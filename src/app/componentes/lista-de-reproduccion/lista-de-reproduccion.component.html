<app-header (toggleSidebar)="toggleSidebar()"></app-header>

<div class="containerHome" [class.collapsed]="sidebarCollapsed$ | async">
  <div class="sidebar-container">
    <app-sidebar [collapsed]="!!(sidebarCollapsed$ | async)"></app-sidebar>
  </div>

  <div class="main-content">
    <div class="playlist">
      <h1>Listas de reproducción</h1>

      <div class="video-grid">
        <div class="video-card" *ngFor="let lista of listas; let i = index; trackBy: trackById">

          <a [routerLink]="['/playlists', lista.id]" class="video-link">
            <div class="miniatura-container">
              <img class="miniatura" [src]="lista.imagen" (error)="onImageError($event)" alt="Miniatura de la lista">
            </div>
            <div class="video-info">
              <h3>{{ lista.nombre }}</h3>
              <p>{{ lista.videos.length }} videos • {{ lista.creador }}</p>
            </div>
          </a>

          <div class="playlist-actions">
            <button class="menu-button">⋮</button>
            <div class="menu-dropdown">
              <button (click)="abrirModalEditar(lista)">Editar</button>
              <button (click)="borrarPlaylist(lista.id)">Eliminar</button>
            </div>
          </div>

        </div>
      </div>
    </div>
  </div>
</div>
