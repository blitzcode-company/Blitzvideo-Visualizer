!function webpackUniversalModuleDefinition(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.xgplayer=t():e.xgplayer=t()}(window,function(){return function(n){var i={};function __webpack_require__(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,__webpack_require__),t.l=!0,t.exports}return __webpack_require__.m=n,__webpack_require__.c=i,__webpack_require__.d=function(e,t,n){__webpack_require__.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.t=function(t,e){if(1&e&&(t=__webpack_require__(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(__webpack_require__.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)__webpack_require__.d(n,i,function(e){return t[e]}.bind(null,i));return n},__webpack_require__.n=function(e){var t=e&&e.__esModule?function getDefault(){return e.default}:function getModuleExports(){return e};return __webpack_require__.d(t,"a",t),t},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=116)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),o=_interopRequireDefault(n(13)),c=_interopRequireDefault(n(4)),r=_interopRequireDefault(n(33)),a=_interopRequireDefault(n(10)),s=_interopRequireDefault(n(7)),l=_interopRequireDefault(n(6)),u=_interopRequireDefault(n(8)),f=_interopRequireDefault(n(34));n(11);var d=n(9),p=n(41);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(){function Player(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Player);var n,i=_possibleConstructorReturn(this,(Player.__proto__||Object.getPrototypeOf(Player)).call(this,e));if(i.config=c.default.deepCopy({width:600,height:337.5,ignores:[],whitelist:[],lang:(document.documentElement.getAttribute("lang")||navigator.language||"zh-cn").toLocaleLowerCase(),inactive:3e3,volume:.6,controls:!0,controlsList:["nodownload"]},e),i.version=d.version,i.userTimer=null,i.waitTimer=null,i.database=new r.default,i.history=[],i.isProgressMoving=!1,i.root=c.default.findDom(document,"#"+i.config.id),i.controls=c.default.createDom("xg-controls","",{unselectable:"on",onselectstart:"return false"},"xgplayer-controls"),!i.root){var t=i.config.el;if(!t||1!==t.nodeType)return i.emit("error",new u.default("use",i.config.vid,{line:32,handle:"Constructor",msg:"container id can't be empty"})),_possibleConstructorReturn(i,!1);i.root=t}c.default.addClass(i.root,"xgplayer xgplayer-"+a.default.device+" xgplayer-nostart "+(i.config.controls?"":"no-controls")),i.root.appendChild(i.controls),i.config.fluid?(i.root.style["max-width"]="100%",i.root.style.width="100%",i.root.style.height="0",i.root.style["padding-top"]=100*i.config.height/i.config.width+"%",i.video.style.position="absolute",i.video.style.top="0",i.video.style.left="0"):("pc"===a.default.device||e.width||e.height)&&(i.root.style.width=i.config.width+"px",i.root.style.height=i.config.height+"px"),i.config.execBeforePluginsCall&&i.config.execBeforePluginsCall.forEach(function(e){e.call(i,i)}),i.config.controlStyle&&"String"===c.default.typeOf(i.config.controlStyle)?(n=i,window.fetch&&window.fetch(n.config.controlStyle,{method:"GET",headers:{Accept:"application/json"}}).then(function(e){e.ok&&e.json().then(function(e){for(var t in e)e.hasOwnProperty(t)&&(n.config[t]=e[t]);n.pluginsCall()})}).catch(function(e){console.log("Fetch错误:"+e)})):i.pluginsCall(),i.config.controlPlugins&&Player.controlsRun(i.config.controlPlugins,i),i.ev.forEach(function(e){var t=Object.keys(e)[0],n=i[e[t]];n&&c.default.on(i,t,n,"destroy")}),["focus","blur"].forEach(function(e){c.default.on(i,e,i["on"+e.charAt(0).toUpperCase()+e.slice(1)],"destroy")});var o=i;return i.mousemoveFunc=function(){o.emit("focus"),o.config.closeFocusVideoFocus||o.video.focus()},i.root.addEventListener("mousemove",i.mousemoveFunc),i.playFunc=function(){o.emit("focus"),o.config.closePlayVideoFocus||o.video.focus()},c.default.once(o,"play",i.playFunc),setTimeout(function(){i.emit("ready")},0),i.config.videoInit&&c.default.hasClass(i.root,"xgplayer-nostart")&&i.start(),c.default.once(o,"destroy",function(){o.root.removeEventListener("mousemove",o.mousemoveFunc)}),i}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Player,o.default),i(Player,null,[{key:"isSupportMP4",value:function isSupportMP4(){return c.default.isSupportMP4()}}]),i(Player,[{key:"start",value:function start(e){var t=this,n=0<arguments.length&&void 0!==e?e:this.config.url,i=this.root,o=this;n||this.emit("urlNull"),this.canPlayFunc=function(){var e=o.video.play();void 0!==e&&e&&e.then(function(){c.default.removeClass(o.root,"xgplayer-nostart"),o.emit("autoplay started")}).catch(function(e){"NotAllowedError"===e.name&&(o.emit("autoplay was prevented"),Player.util.addClass(o.root,"xgplayer-is-autoplay"))})};function $a(e){"Array"!==c.default.typeOf(e)?"String"===c.default.typeOf(e)&&-1<e.indexOf("blob:")&&e===t.video.src||(t.video.src=e):e&&0<e.length&&e.forEach(function(e){t.video.appendChild(c.default.createDom("source","",{src:""+e.src,type:""+(e.type||"")}))}),t.config.autoplay&&c.default.on(t,"canplay",t.canPlayFunc),t.video.load(),i&&!i.querySelector("video")&&t.video&&1===t.video.nodeType&&i.insertBefore(t.video,i.firstChild),setTimeout(function(){t.emit("complete")},1)}"function"==typeof o.config.beforeStartRun?o.config.beforeStartRun().then(function(){$a(n)}):$a(n)}},{key:"seek",value:function seek(e){this.ended&&"function"==typeof this.replay?this.replay(e):this.currentTime=e}},{key:"reload",value:function reload(){var e=this;this.video.load(),this.reloadFunc=function(){e.play().catch(function(e){})},c.default.once(this,"loadeddata",this.reloadFunc)}},{key:"destroy",value:function destroy(e){var t=!(0<arguments.length&&void 0!==e)||e;for(var n in clearInterval(this.bulletResizeTimer),this._interval)clearInterval(this._interval[n]),this._interval[n]=null;function destroyFunc(){for(var e in this.emit("destroy"),this.video.removeAttribute("src"),this.video.load(),t&&(this.root.innerHTML="",this.root.className=""),this)delete this[e];this.off("pause",destroyFunc),this.emit("destroyEnd")}this.danmu&&this.danmu.destroy(),clearTimeout(this.userTimer),clearTimeout(this.waitTimer),clearTimeout(this.sliderTimer),this.paused?destroyFunc.call(this):(this.pause(),this.once("pause",destroyFunc)),function get(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:get(o,t,n)}if("value"in i)return i.value;var r=i.get;return void 0!==r?r.call(n):void 0}(Player.prototype.__proto__||Object.getPrototypeOf(Player.prototype),"destroy",this).call(this)}},{key:"replay",value:function replay(e){var t=0<arguments.length&&void 0!==e?e:0,n=this._replay;c.default.removeClass(this.root,"xgplayer-ended"),n&&n instanceof Function?n(t):(this.currentTime=t,this.play().catch(function(e){}))}},{key:"pluginsCall",value:function pluginsCall(){var n,i=this,o=this;Player.plugins&&(n=this.config.ignores,Object.keys(Player.plugins).forEach(function(t){var e=Player.plugins[t];n.some(function(e){return t===e})||(["pc","tablet","mobile"].some(function(e){return e===t})?t===a.default.device&&setTimeout(function(){e.call(o,o)},0):e.call(i,i))}))}},{key:"getPIP",value:function getPIP(e,t){var n=0<arguments.length&&void 0!==e?e:320,i=1<arguments.length&&void 0!==t?t:180,o=this.root.getBoundingClientRect(),r=o.top,a=o.left,s=c.default.createDom("xg-pip-lay","<div></div>",{},"xgplayer-pip-lay");this.root.appendChild(s);var l=c.default.createDom("xg-pip-drag",'<div class="drag-handle"><span>点击按住可拖动视频</span></div>',{tabindex:9},"xgplayer-pip-drag");this.root.appendChild(l);new f.default(".xgplayer",{handle:".drag-handle"});c.default.addClass(this.root,"xgplayer-pip-active"),this.root.style.width=n+"px",this.root.style.height=i+"px",this.root.style.right=0,this.root.style.bottom="200px",this.root.style.top="",this.root.style.left="",this.config.fluid&&(this.root.style["padding-top"]="");var u=this;["click","touchstart"].forEach(function(e){s.addEventListener(e,function(e){e.preventDefault(),e.stopPropagation(),u.exitPIP(),u.root.style.top=r+"px",u.root.style.left=a+"px"})})}},{key:"exitPIP",value:function exitPIP(){c.default.removeClass(this.root,"xgplayer-pip-active"),this.root.style.right="",this.root.style.bottom="",this.root.style.top="",this.root.style.left="",this.config.fluid?(this.root.style.width="100%",this.root.style.height="0",this.root.style["padding-top"]=100*this.config.height/this.config.width+"%"):(this.config.width&&("number"!=typeof this.config.width?this.root.style.width=this.config.width:this.root.style.width=this.config.width+"px"),this.config.height&&("number"!=typeof this.config.height?this.root.style.height=this.config.height:this.root.style.height=this.config.height+"px"))}},{key:"clearWaitTimer",value:function clearWaitTimer(){this.waitTimer&&(window.clearTimeout(this.waitTimer),this.waitTimer=null)}},{key:"onFocus",value:function onFocus(){var e=this;c.default.hasClass(this.root,"xgplayer-inactive")&&e.emit("controlShow"),c.default.removeClass(this.root,"xgplayer-inactive"),e.userTimer&&clearTimeout(e.userTimer),e.userTimer=setTimeout(function(){e.emit("blur")},e.config.inactive)}},{key:"onBlur",value:function onBlur(){this.paused||this.ended||(c.default.hasClass(this.root,"xgplayer-inactive")||this.emit("controlHide"),c.default.addClass(this.root,"xgplayer-inactive"))}},{key:"onPlay",value:function onPlay(){c.default.addClass(this.root,"xgplayer-playing"),c.default.removeClass(this.root,"xgplayer-pause")}},{key:"onPause",value:function onPause(){c.default.addClass(this.root,"xgplayer-pause"),this.userTimer&&clearTimeout(this.userTimer),this.emit("focus")}},{key:"onEnded",value:function onEnded(){c.default.addClass(this.root,"xgplayer-ended"),c.default.removeClass(this.root,"xgplayer-playing"),c.default.removeClass(this.root,"xgplayer-isloading")}},{key:"onTimeupdate",value:function onTimeupdate(){(this.isLoading||this.waitTimer&&!this.isSeeking)&&this.checkBuffer()&&(this._handleResumeFromWating(),this.clearWaitTimer(),c.default.removeClass(this.root,"xgplayer-isloading"),this.isLoading=!1),!this._hasStart&&this.paused?c.default.removeClass(this.root,"xgplayer-is-enter xgplayer-start-appear"):c.default.removeClass(this.root,"xgplayer-is-enter xgplayer-nostart xgplayer-start-appear")}},{key:"onSeeking",value:function onSeeking(){this.isSeeking=!0,this.onWaiting()}},{key:"onSeeked",value:function onSeeked(){this._handleResumeFromWating(),this.isSeeking=!1,this.isLoading=!1,this.waitTimer&&this.clearWaitTimer(),c.default.removeClass(this.root,"xgplayer-isloading")}},{key:"onWaiting",value:function onWaiting(){var e;!this._hasStart&&this.paused||((e=this).waitTimer&&(this.clearWaitTimer(),this.isLoading=!1),e.waitTimer=setTimeout(function(){c.default.addClass(e.root,"xgplayer-isloading"),e.emit(p.PLAYER_EVENTS.PLAYER_WAITING),e.isLoading=!0,e.clearWaitTimer()},800))}},{key:"_handleResumeFromWating",value:function _handleResumeFromWating(){this.isLoading&&this.emit(p.PLAYER_EVENTS.PLAYER_RESUME)}},{key:"onPlaying",value:function onPlaying(){this._handleResumeFromWating(),this.isSeeking=!1,this.isLoading=!1,this.waitTimer&&this.clearWaitTimer(),c.default.removeClass(this.root,"xgplayer-isloading xgplayer-pause xgplayer-ended xgplayer-is-error xgplayer-replay"),c.default.addClass(this.root,"xgplayer-playing")}},{key:"checkBuffer",value:function checkBuffer(){for(var e=this.video.buffered,t=this.currentTime,n=e.length,i=0;i<n;i++)if(e.start(i)<=t&&e.end(i)>t)return!0;return!1}}],[{key:"install",value:function install(e,t){Player.plugins||(Player.plugins={}),Player.plugins[e]=t}},{key:"controlsRun",value:function controlsRun(e,t){e.forEach(function(e){e.method.call(t)})}}]),Player}();h.util=c.default,h.IntervalTimer=l.default,h.sniffer=a.default,h.Errors=u.default,h.PLAYER_EVENTS=p.PLAYER_EVENTS,h.XgplayerTimeRange=s.default,t.default=h,e.exports=t.default},function(e,t,n){"use strict";e.exports=function(n){var a=[];return a.toString=function toString(){return this.map(function(e){var t=function cssWithMappingToString(e,t){var n=e[1]||"",i=e[3];if(!i)return n;if(t&&"function"==typeof btoa){var o=function toComment(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}(i),r=i.sources.map(function(e){return"/*# sourceURL="+i.sourceRoot+e+" */"});return[n].concat(r).concat([o]).join("\n")}return[n].join("\n")}(e,n);return e[2]?"@media "+e[2]+"{"+t+"}":t}).join("")},a.i=function(e,t){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(n[o]=!0)}for(i=0;i<e.length;i++){var r=e[i];"number"==typeof r[0]&&n[r[0]]||(t&&!r[2]?r[2]=t:t&&(r[2]="("+r[2]+") and ("+t+")"),a.push(r))}},a}},function(e,t,n){var l={},i=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}}(function(){return window&&document&&document.all&&!window.atob}),r=function(){var n={};return function(e){if("function"==typeof e)return e();if(void 0===n[e]){var t=function(e){return document.querySelector(e)}.call(this,e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]}}(),s=null,u=0,a=[],c=n(40);function addStylesToDom(e,t){for(var n=0;n<e.length;n++){var i=e[n],o=l[i.id];if(o){o.refs++;for(var r=0;r<o.parts.length;r++)o.parts[r](i.parts[r]);for(;r<i.parts.length;r++)o.parts.push(addStyle(i.parts[r],t))}else{for(var a=[],r=0;r<i.parts.length;r++)a.push(addStyle(i.parts[r],t));l[i.id]={id:i.id,refs:1,parts:a}}}}function listToStyles(e,t){for(var n=[],i={},o=0;o<e.length;o++){var r=e[o],a=t.base?r[0]+t.base:r[0],s={css:r[1],media:r[2],sourceMap:r[3]};i[a]?i[a].parts.push(s):n.push(i[a]={id:a,parts:[s]})}return n}function insertStyleElement(e,t){var n=r(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=a[a.length-1];if("top"===e.insertAt)i?i.nextSibling?n.insertBefore(t,i.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),a.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=r(e.insertInto+" "+e.insertAt.before);n.insertBefore(t,o)}}function removeStyleElement(e){var t;null!==e.parentNode&&(e.parentNode.removeChild(e),0<=(t=a.indexOf(e))&&a.splice(t,1))}function createStyleElement(e){var t=document.createElement("style");return e.attrs.type="text/css",addAttrs(t,e.attrs),insertStyleElement(e,t),t}function addAttrs(t,n){Object.keys(n).forEach(function(e){t.setAttribute(e,n[e])})}function addStyle(t,e){var n,i,o,r,a;if(e.transform&&t.css){if(!(n=e.transform(t.css)))return function(){};t.css=n}return a=e.singleton?(i=u++,o=s=s||createStyleElement(e),r=applyToSingletonTag.bind(null,o,i,!1),applyToSingletonTag.bind(null,o,i,!0)):t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(o=function createLinkElement(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",addAttrs(t,e.attrs),insertStyleElement(e,t),t}(e),r=function updateLink(e,t,n){var i=n.css,o=n.sourceMap,r=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||r)&&(i=c(i));o&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var a=new Blob([i],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,o,e),function(){removeStyleElement(o),o.href&&URL.revokeObjectURL(o.href)}):(o=createStyleElement(e),r=function applyToTag(e,t){var n=t.css,i=t.media;i&&e.setAttribute("media",i);if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,o),function(){removeStyleElement(o)}),r(t),function updateStyle(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else a()}}e.exports=function(e,a){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(a=a||{}).attrs="object"==typeof a.attrs?a.attrs:{},a.singleton||"boolean"==typeof a.singleton||(a.singleton=i()),a.insertInto||(a.insertInto="head"),a.insertAt||(a.insertAt="bottom");var s=listToStyles(e,a);return addStylesToDom(s,a),function update(e){for(var t=[],n=0;n<s.length;n++){var i=s[n];(o=l[i.id]).refs--,t.push(o)}e&&addStylesToDom(listToStyles(e,a),a);for(var o,n=0;n<t.length;n++){if(0===(o=t[n]).refs){for(var r=0;r<o.parts.length;r++)o.parts[r]();delete l[o.id]}}}};var f=function(){var n=[];return function(e,t){return n[e]=t,n.filter(Boolean).join("\n")}}();function applyToSingletonTag(e,t,n,i){var o,r,a=n?"":i.css;e.styleSheet?e.styleSheet.cssText=f(t,a):(o=document.createTextNode(a),(r=e.childNodes)[t]&&e.removeChild(r[t]),r.length?e.insertBefore(o,r[t]):e.appendChild(o))}},function(e,t,n){"use strict";var i=n(26)();e.exports=function(e){return e!==i&&null!==e}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _intervalTimer=__webpack_require__(6),_intervalTimer2=_interopRequireDefault(_intervalTimer),_xgplayerTimeRange=__webpack_require__(7),_xgplayerTimeRange2=_interopRequireDefault(_xgplayerTimeRange);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var util={createDom:function(){var i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"div",e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},t=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"",r=document.createElement(i);return r.className=t,r.innerHTML=e,Object.keys(o).forEach(function(e){var t=e,n=o[e];("video"!==i&&"audio"!==i||n)&&r.setAttribute(t,n)}),r},hasClass:function(e,t){return e?e.classList?Array.prototype.some.call(e.classList,function(e){return e===t}):!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)")):null},addClass:function(t,e){if(!t)return null;t.classList?e.replace(/(^\s+|\s+$)/g,"").split(/\s+/g).forEach(function(e){e&&t.classList.add(e)}):util.hasClass(t,e)||(t.className+=" "+e)},removeClass:function(n,e){if(!n)return null;n.classList?e.split(/\s+/g).forEach(function(e){n.classList.remove(e)}):util.hasClass(n,e)&&e.split(/\s+/g).forEach(function(e){var t=new RegExp("(\\s|^)"+e+"(\\s|$)");n.className=n.className.replace(t," ")})},toggleClass:function(t,e){if(!t)return null;e.split(/\s+/g).forEach(function(e){util.hasClass(t,e)?util.removeClass(t,e):util.addClass(t,e)})},findDom:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:document,n=arguments[1],i=void 0;try{i=t.querySelector(n)}catch(e){n.startsWith("#")&&(i=t.getElementById(n.slice(1)))}return i},padStart:function(e,t,n){for(var i=String(n),o=t>>0,r=Math.ceil(o/i.length),a=[],s=String(e);r--;)a.push(i);return a.join("").substring(0,o-s.length)+s},format:function(e){if(window.isNaN(e))return"";var t=util.padStart(Math.floor(e/3600),2,0),n=util.padStart(Math.floor((e-3600*t)/60),2,0),i=util.padStart(Math.floor(e-3600*t-60*n),2,0);return("00"===t?[n,i]:[t,n,i]).join(":")},event:function(e){var t;e.touches&&(t=e.touches[0]||e.changedTouches[0],e.clientX=t.clientX||0,e.clientY=t.clientY||0,e.offsetX=t.pageX-t.target.offsetLeft,e.offsetY=t.pageY-t.target.offsetTop),e._target=e.target||e.srcElement},typeOf:function(e){return Object.prototype.toString.call(e).match(/([^\s.*]+)(?=]$)/g)[0]},deepCopy:function(t,n){if("Object"===util.typeOf(n)&&"Object"===util.typeOf(t))return Object.keys(n).forEach(function(e){"Object"!==util.typeOf(n[e])||n[e]instanceof Node?"Array"===util.typeOf(n[e])?t[e]="Array"===util.typeOf(t[e])?t[e].concat(n[e]):n[e]:t[e]=n[e]:t[e]?util.deepCopy(t[e],n[e]):t[e]=n[e]}),t},getBgImage:function(e){var t=(e.currentStyle||window.getComputedStyle(e,null)).backgroundImage;if(!t||"none"===t)return"";var n=document.createElement("a");return n.href=t.replace(/url\("|"\)/g,""),n.href},copyDom:function(e){if(e&&1===e.nodeType){var t=document.createElement(e.tagName);return Array.prototype.forEach.call(e.attributes,function(e){t.setAttribute(e.name,e.value)}),e.innerHTML&&(t.innerHTML=e.innerHTML),t}return""},setInterval:function(e,t,n,i){e._interval[t]||(e._interval[t]=setInterval(n.bind(e),i))},clearInterval:function(e,t){clearInterval(e._interval[t]),e._interval[t]=null},createImgBtn:function(e,t,n,i){var o,r,a,s=util.createDom("xg-"+e,"",{},"xgplayer-"+e+"-img");return s.style.backgroundImage='url("'+t+'")',n&&i&&(a=r=o=void 0,["px","rem","em","pt","dp","vw","vh","vm","%"].every(function(e){return!(-1<n.indexOf(e)&&-1<i.indexOf(e))||(o=parseFloat(n.slice(0,n.indexOf(e)).trim()),r=parseFloat(i.slice(0,i.indexOf(e)).trim()),a=e,!1)}),s.style.width=""+o+a,s.style.height=""+r+a,s.style.backgroundSize=""+o+a+" "+r+a,s.style.margin="start"===e?"-"+r/2+a+" auto auto -"+o/2+a:"auto 5px auto 5px"),s},Hex2RGBA:function(hex,alpha){var rgb=[],sixHex;return/^\#[0-9A-F]{3}$/i.test(hex)&&(sixHex="#",hex.replace(/[0-9A-F]/gi,function(e){sixHex+=e+e}),hex=sixHex),/^#[0-9A-F]{6}$/i.test(hex)?(hex.replace(/[0-9A-F]{2}/gi,function(kw){rgb.push(eval("0x"+kw))}),"rgba("+rgb.join(",")+", "+alpha+")"):"rgba(255, 255, 255, 0.1)"},isSupportMP4:function(){var e,t=[{key:"Trident",reg:/(rv:)([\d.]+)/},{key:"Trident",reg:/(msie)\s*([\d.]+)/},{key:"Chrome",reg:/(chrome)\/([\d.]+)/}],n=navigator.userAgent.toLowerCase(),i={};for(var o in t)if(e=t[o].reg.exec(n)){var r=t[o].key;i["is"+r]=r,i.name=r,i.appVersion=2<e.length?e[2]:"";break}if((!i.isChrome||"77.0.3835.0"!==i.appVersion&&"76.0.3790.0"!==i.appVersion)&&!i.isTrident)return!0;var a=document.createElement("video"),s={isSupport:!1,mime:""};return"function"==typeof a.canPlayType?["avc1.42E01E, mp4a.40.2","avc1.58A01E, mp4a.40.2","avc1.4D401E, mp4a.40.2","avc1.64001E, mp4a.40.2","avc1.42E01E","mp4v.20.8","mp4v.20.240","avc1.42E01E, mp4a.40.2","avc1.58A01E, mp4a.40.2","avc1.4D401E, mp4a.40.2","avc1.64001E, mp4a.40.2","mp4v.20.8, mp4a.40.2","mp4v.20.240, mp4a.40.2"].map(function(e){"probably"===a.canPlayType('video/mp4; codecs="'+e+'"')&&(s.isSupport=!0,s.mime+="||"+e)}):a=null,s.isSupport},calcFrameRate:function(e){if(!e||!e.video||void 0===e.video.webkitDecodedFrameCount||void 0===e.video.webkitDroppedFrameCount)return!1;var t=e.config.frameRateInterval||1e3;return e.currentFrameRate=0,e.currentDecodedFrameCount=0,e.frameRateTimer&&(e.frameRateTimer.clear(),e.frameRateTimer=null),e.frameRateTimer=new _intervalTimer2.default,e.frameRateTimer.repeat(function(){e.currentFrameRate=(e.video.webkitDecodedFrameCount-e.currentDecodedFrameCount)/t*1e3,e.currentDecodedFrameCount=e.video.webkitDecodedFrameCount,e.currentDroppedFrameCount=e.video.webkitDroppedFrameCount},t),e.once("destroy",function destroyFunc(){e.frameRateTimer&&(e.frameRateTimer.clear(),e.frameRateTimer=null),e.off("destroy",destroyFunc)}),!0},offInDestroy:function(e,t,n,i){e.once(i,function onDestroy(){e.off(t,n),e.off(i,onDestroy)})},on:function(t,n,i,e){e?(t.on(n,i),util.offInDestroy(t,n,i,e)):t.on(n,function _fn(e){i(e),t.off(n,_fn)})},once:function(t,n,i,e){e?(t.once(n,i),util.offInDestroy(t,n,i,e)):t.once(n,function _fn(e){i(e),t.off(n,_fn)})},getBuffered2:function(e){for(var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:.5,n=[],i=0;i<e.length;i++)n.push({start:e.start(i),end:e.end(i)});n.sort(function(e,t){var n=e.start-t.start;return n||t.end-e.end});var o=[];if(t)for(var r=0;r<n.length;r++){var a,s=o.length;s?(a=o[s-1].end,n[r].start-a<t?n[r].end>a&&(o[s-1].end=n[r].end):o.push(n[r])):o.push(n[r])}else o=n;return new _xgplayerTimeRange2.default(o)}};exports.default=util,module.exports=exports.default},function(e,t,n){"use strict";e.exports=function(e){return null!=e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var o=function(){function IntervalTimer(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,IntervalTimer),this.timeID=null,this.func=null}return i(IntervalTimer,[{key:"repeat",value:function repeat(e,t){var n=this;null===this.func&&(this.func=e),this.func===e&&(this.timeID=setTimeout(function(){e(),n.repeat(e,t)},t))}},{key:"clear",value:function clear(){clearTimeout(this.timeID)}}]),IntervalTimer}();t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var o=function(){function XgplayerTimeRange(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,XgplayerTimeRange),this.bufferedList=e}return i(XgplayerTimeRange,[{key:"start",value:function start(e){return this.bufferedList[e].start}},{key:"end",value:function end(e){return this.bufferedList[e].end}},{key:"length",get:function get(){return this.bufferedList.length}}]),XgplayerTimeRange}();t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),c=n(9);var f={network:{code:1,msg:"视频下载错误",remark:"只要视频下载错误就使用此类型，无论是video本身的超时还是xhr的分段请求超时或者资源不存在"},mse:{code:2,msg:"流追加错误",remark:"追加流的时候如果类型不对、无法被正确解码则会触发此类错误"},parse:{code:3,msg:"解析错误",remark:"mp4、hls、flv我们都是使用js进行格式解析，如果解析失败则会触发此类错误"},format:{code:4,msg:"格式错误",remark:"如果浏览器不支持的格式导致播放错误"},decoder:{code:5,msg:"解码错误",remark:"浏览器解码异常会抛出此类型错误"},runtime:{code:6,msg:"语法错误",remark:"播放器语法错误"},timeout:{code:7,msg:"播放超时",remark:"播放过程中无法正常请求下一个分段导致播放中断"},other:{code:8,msg:"其他错误",remark:"不可知的错误或被忽略的错误类型"}},o=function(){function Errors(e,t,n,i,o,r,a,s){var l=8<arguments.length&&void 0!==arguments[8]?arguments[8]:{line:"",handle:"",msg:"",version:""};!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Errors);var u={};return 3<=arguments.length&&arguments.length<5?(u.playerVersion=c.version,u.errorType=e,u.code=t,u.errd=n||{},u.ex=(u.errd||{}).msg,u.domain=document.domain):(u.playerVersion=c.version,u.errorType=e,u.domain=document.domain,u.duration=n,u.currentTime=t,u.networkState=i,u.readyState=o,u.currentSrc=a,u.src=r,u.ended=s,u.errd=l||{},u.ex=(f[e]||{}).msg,u.code=u.errd.code),u}return i(Errors,null,[{key:"ErrorTypes",get:function get(){return f}}]),Errors}();t.default=o,e.exports=t.default},function(e){e.exports=JSON.parse('{"name":"xgplayer","version":"1.10.14","description":"video player","main":"./dist/index.js","scripts":{"build":"webpack --progress --display-chunks -p","prepare":"npm run build","test":"karma start --single-run","test:watch":"karma start","analyze":"webpack --analyze --progress --display-chunks -p","watch":"webpack --progress --display-chunks -p --watch --mode development"},"keywords":["video","player"],"babel":{"presets":["es2015"],"plugins":["add-module-exports","babel-plugin-bulk-import"]},"browserslist":["> 5%","IE 9","iOS 7","Firefox > 20"],"repository":{"type":"git","url":"git+https://github.com/bytedance/xgplayer.git"},"license":"MIT","dependencies":{"danmu.js":"^0.6.3","deepmerge":"^1.5.0","downloadjs":"1.4.7","draggabilly":"^2.2.0","event-emitter":"^0.3.5","pasition":"^1.0.1","request-frame":"^1.5.3","standard":"^14.3.1"},"devDependencies":{"autoprefixer":"^9.1.5","babel-core":"^6.26.3","babel-loader":"^7.1.4","babel-plugin-add-module-exports":"^0.2.1","babel-plugin-bulk-import":"^1.0.2","babel-plugin-transform-object-rest-spread":"^6.26.0","babel-plugin-transform-runtime":"^6.23.0","babel-preset-es2015":"^6.24.1","chai":"^4.1.2","core-js":"^2.5.4","css-loader":"^0.28.11","json-loader":"^0.5.7","karma":"^3.0.0","karma-chrome-launcher":"^2.2.0","karma-mocha":"^1.3.0","karma-sourcemap-loader":"^0.3.7","karma-spec-reporter":"0.0.32","karma-webpack":"^4.0.0-rc.1","mocha":"^5.2.0","node-sass":"^4.8.3","postcss-cssnext":"^3.1.0","postcss-loader":"^2.1.5","sass-loader":"^6.0.7","style-loader":"^0.20.3","sugarss":"^1.0.1","uglifyjs-webpack-plugin":"^2.2.0","webpack":"^4.11.0","webpack-bundle-analyzer":"^3.6.0","webpack-cli":"^3.0.2","zlib":"^1.0.5"}}')},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={get device(){return i.os.isPc?"pc":"mobile"},get browser(){var t=navigator.userAgent.toLowerCase(),n={ie:/rv:([\d.]+)\) like gecko/,firfox:/firefox\/([\d.]+)/,chrome:/chrome\/([\d.]+)/,opera:/opera.([\d.]+)/,safari:/version\/([\d.]+).*safari/};return[].concat(Object.keys(n).filter(function(e){return n[e].test(t)}))[0]},get os(){var e=navigator.userAgent,t=/(?:Windows Phone)/.test(e),n=/(?:SymbianOS)/.test(e)||t,i=/(?:Android)/.test(e),o=/(?:Firefox)/.test(e),r=/(?:iPad|PlayBook)/.test(e)||i&&!/(?:Mobile)/.test(e)||o&&/(?:Tablet)/.test(e),a=/(?:iPhone)/.test(e)&&!r;return{isTablet:r,isPhone:a,isAndroid:i,isPc:!(a||i||n||r),isSymbian:n,isWindowsPhone:t,isFireFox:o}}};t.default=i,e.exports=t.default},function(e,t,n){var i=n(39);"string"==typeof i&&(i=[[e.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,o);i.locals&&(e.exports=i.locals)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),o=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(n(42));n(43);var r=function(){function SVG(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SVG),this.from=e.from,this.to=e.to,this.easing=e.easing||function(e){return e*e},this.duration=e.duration||150,this.curPath="",this.progress=e.progress,this.state=0}return i(SVG,[{key:"animate",value:function animate(){var n=this,i=new Date,o=n.duration,r=null,e=n.path2shapes(n.from),a=n.path2shapes(n.to),s=n._preprocessing(e,a);n.state=1;!function tick(){var e=new Date-i;if(o<=e||2===n.state)return r=a,n.progress(r,1),window.cancelAnimationFrame(n.tickId),void(n.state=0);var t=n.easing(e/o);r=n._lerp(s[0],s[1],t),n.progress(r,t),n.tickId=window.requestAnimationFrame(tick)}()}},{key:"toSVGString",value:function toSVGString(e){return e.map(function(e){return e.forEach(function(e,t){t?e.splice(0,2,"C"):(e.splice(2,0,"C"),e.unshift("M"))}),e.map(function(e){return e.join(" ")}).join("")}).join("")}},{key:"start",value:function start(){this.animate()}},{key:"stop",value:function stop(){0!==this.state&&(this.state=2),window.cancelAnimationFrame(self.tickId),this.state=0}},{key:"reverse",value:function reverse(){0!==this.state&&this.stop();var e=this.from;this.from=this.to,this.to=e,this.animate()}},{key:"reset",value:function reset(e,t){var n=1<arguments.length&&void 0!==t?t:this.from;0!==this.state&&this.stop(),this.from=n,this.to=e,this.animate()}}]),SVG}();for(var a in o.default)o.default[a]instanceof Function&&!r.prototype[a]&&(r.prototype[a]=o.default[a]);t.default=r,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),c=_interopRequireDefault(n(14)),f=_interopRequireDefault(n(4)),o=_interopRequireDefault(n(8));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var r=navigator.userAgent,a=(-1<r.indexOf("Safari")&&r.indexOf("mac"),function(){function Proxy(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Proxy),this._hasStart=!1,this._seekingTimer=null,this.videoConfig={controls:!1,autoplay:e.autoplay,playsinline:e.playsinline,"webkit-playsinline":e.playsinline,"x5-playsinline":e.playsinline,"x5-video-player-type":e["x5-video-player-type"],"x5-video-player-fullscreen":e["x5-video-player-fullscreen"],"x5-video-orientation":e["x5-video-orientation"],airplay:e.airplay,"webkit-airplay":e.airplay,tabindex:2,mediaType:e.mediaType||"video"},e.loop&&(this.videoConfig.loop="loop"),e.crossorigin&&(this.videoConfig.crossorigin="anonymous");var t="";if(e.textTrack&&Array.isArray(e.textTrack)&&(e.textTrack.some(function(e){if(e.src&&e.label&&e.default)return t+='<track src="'+e.src+'" ',e.kind&&(t+='kind="'+e.kind+'" '),t+='label="'+e.label+'" ',e.srclang&&(t+='srclang="'+e.srclang+'" '),t+=(e.default?"default":"")+">",!0}),this.videoConfig.crossorigin="anonymous"),e.textTrackStyle){var n=document.createElement("style");this.textTrackStyle=n,document.head.appendChild(n);var i="";for(var o in e.textTrackStyle)i+=o+": "+e.textTrackStyle[o]+";";var r=e.id?"#"+e.id:e.el.id?"#"+e.el.id:"."+e.el.className;n.sheet.insertRule?n.sheet.insertRule(r+" video::cue { "+i+" }",0):n.sheet.addRule&&n.sheet.addRule(r+" video::cue",i)}var a=e.el?e.el:f.default.findDom(document,"#"+e.id),s=this.constructor.XgVideoProxy;s&&this.videoConfig.mediaType===s.mediaType?this.video=new s(a,e):this.video=f.default.createDom(this.videoConfig.mediaType,t,this.videoConfig,""),e.autoplay&&e.autoplayMuted&&(this.video.muted=!0),this.ev=["play","playing","pause","ended","error","seeking","seeked","timeupdate","waiting","canplay","canplaythrough","durationchange","volumechange","loadeddata","loadedmetadata","loadstart"].map(function(e){return function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e,"on"+e.charAt(0).toUpperCase()+e.slice(1))}),(0,c.default)(this),this._interval={};var l="0,0",u=this;this.ev.forEach(function(e){u.evItem=Object.keys(e)[0];var t=Object.keys(e)[0];u.video.addEventListener(Object.keys(e)[0],function(){u.src&&("play"===t?u.hasStart=!0:"waiting"===t?u.inWaitingStart=(new Date).getTime():"playing"===t&&u.inWaitingStart&&(u.inWaitingStart=void 0),"error"===t?u._onError():u.emit(t,u),u.hasOwnProperty("_interval")&&(["ended","error","timeupdate"].indexOf(t)<0?(clearInterval(u._interval.bufferedChange),f.default.setInterval(u,"bufferedChange",function(){for(var e=[],t=0,n=u.video.buffered.length;t<n;t++)e.push([u.video.buffered.start(t),u.video.buffered.end(t)]);e.toString()!==l&&(l=e.toString(),u.emit("bufferedChange",e))},200)):"timeupdate"!==t&&f.default.clearInterval(u,"bufferedChange")))},!1)})}return i(Proxy,[{key:"_onError",value:function _onError(){var e=this;if(e.video.error){if(e.video.error.message&&-1<e.video.error.message.indexOf("Empty src attribute"))return;e.emit("error",new o.default("other",e.currentTime,e.duration,e.networkState,e.readyState,e.currentSrc,e.src,e.ended,{line:41,msg:e.error,handle:"Constructor",code:e.errorCode}))}}},{key:"destroy",value:function destroy(){this.textTrackStyle&&this.textTrackStyle.parentNode.removeChild(this.textTrackStyle)}},{key:"play",value:function play(){return this.video.play()}},{key:"pause",value:function pause(){this.video.pause()}},{key:"canPlayType",value:function canPlayType(){this.video.canPlayType()}},{key:"getBufferedRange",value:function getBufferedRange(e){var t=[0,0],n=this.video;e=e||n.buffered;var i=n.currentTime;if(e)for(var o=0,r=e.length;o<r&&(t[0]=e.start(o),t[1]=e.end(o),!(t[0]<=i&&i<=t[1]));o++);return t[0]-i<=0&&i-t[1]<=0?t:[0,0]}},{key:"hasStart",get:function get(){return this._hasStart},set:function set(e){"boolean"!=typeof e||!0!==e||this._hasStart||(this._hasStart=!0,this.emit("hasstart"))}},{key:"autoplay",set:function set(e){this.video&&(this.video.autoplay=e)},get:function get(){return this.video?this.video.autoplay:null}},{key:"buffered",get:function get(){return this.video?this.video.buffered:null}},{key:"buffered2",get:function get(){return f.default.getBuffered2(this.video.buffered)}},{key:"crossOrigin",get:function get(){return this.video?this.video.crossOrigin:null},set:function set(e){this.video&&(this.video.crossOrigin=e)}},{key:"currentSrc",get:function get(){return this.video?this.video.currentSrc:null},set:function set(e){this.video&&(this.video.currentSrc=e)}},{key:"currentTime",get:function get(){return this.video?this.video.currentTime:null},set:function set(e){("function"!=typeof isFinite||isFinite(e))&&this.video&&(this.video.currentTime=e,this.emit("currentTimeChange"))}},{key:"defaultMuted",get:function get(){return this.video?this.video.defaultMuted:null},set:function set(e){this.video&&(this.video.defaultMuted=e)}},{key:"duration",get:function get(){return this.config.duration?this.video?Math.min(this.config.duration,this.video.duration):this.config.duration:this.video?this.video.duration:null}},{key:"ended",get:function get(){return this.video?this.video.ended:null}},{key:"error",get:function get(){if(!this.video)return null;var e=this.video.error;if(!e)return null;var t=[{en:"MEDIA_ERR_ABORTED",cn:"取回过程被用户中止"},{en:"MEDIA_ERR_NETWORK",cn:"当下载时发生错误"},{en:"MEDIA_ERR_DECODE",cn:"当解码时发生错误"},{en:"MEDIA_ERR_SRC_NOT_SUPPORTED",cn:"不支持音频/视频"}];return this.lang?this.lang[t[e.code-1].en]:t[e.code-1].en}},{key:"errorCode",get:function get(){return this.video?(this.video.error||{}).code:null}},{key:"loop",get:function get(){return this.video?this.video.loop:null},set:function set(e){this.video&&(this.video.loop=e)}},{key:"muted",get:function get(){return this.video?this.video.muted:null},set:function set(e){this.video&&(this.video.muted=e)}},{key:"networkState",get:function get(){if(!this.video)return null;var e=[{en:"NETWORK_EMPTY",cn:"音频/视频尚未初始化"},{en:"NETWORK_IDLE",cn:"音频/视频是活动的且已选取资源，但并未使用网络"},{en:"NETWORK_LOADING",cn:"浏览器正在下载数据"},{en:"NETWORK_NO_SOURCE",cn:"未找到音频/视频来源"}];return this.lang?this.lang[e[this.video.networkState].en]:e[this.video.networkState].en}},{key:"paused",get:function get(){return this.video?this.video.paused:null}},{key:"playbackRate",get:function get(){return this.video?this.video.playbackRate:null},set:function set(e){this.video&&(this.video.playbackRate=e)}},{key:"played",get:function get(){return this.video?this.video.played:null}},{key:"preload",get:function get(){return this.video?this.video.preload:null},set:function set(e){this.video&&(this.video.preload=e)}},{key:"readyState",get:function get(){if(!this.video)return null;var e=[{en:"HAVE_NOTHING",cn:"没有关于音频/视频是否就绪的信息"},{en:"HAVE_METADATA",cn:"关于音频/视频就绪的元数据"},{en:"HAVE_CURRENT_DATA",cn:"关于当前播放位置的数据是可用的，但没有足够的数据来播放下一帧/毫秒"},{en:"HAVE_FUTURE_DATA",cn:"当前及至少下一帧的数据是可用的"},{en:"HAVE_ENOUGH_DATA",cn:"可用数据足以开始播放"}];return this.lang?this.lang[e[this.video.readyState].en]:e[this.video.readyState]}},{key:"seekable",get:function get(){return this.video?this.video.seekable:null}},{key:"seeking",get:function get(){return this.video?this.video.seeking:null}},{key:"src",get:function get(){return this.video&&this.video.src&&this.video.src!==location.href?this.video.src:null},set:function set(e){var t=this;this.video&&(this.video.pause(),"function"==typeof this.config.beforeStartRun?this.config.beforeStartRun().then(function(){t.video.src=e,t.emit("srcChange")}):(this.video.src=e,this.emit("srcChange")))}},{key:"volume",get:function get(){return this.video?this.video.volume:null},set:function set(e){("function"!=typeof isFinite||isFinite(e))&&this.video&&(this.video.volume=e)}},{key:"fullscreen",get:function get(){return f.default.hasClass(this.root,"xgplayer-is-fullscreen")||f.default.hasClass(this.root,"xgplayer-fullscreen-active")}},{key:"bullet",get:function get(){return!!f.default.findDom(this.root,"xg-bullet")&&f.default.hasClass(f.default.findDom(this.root,"xg-bullet"),"xgplayer-has-bullet")}},{key:"textTrack",get:function get(){return f.default.hasClass(this.root,"xgplayer-is-textTrack")}},{key:"pip",get:function get(){return f.default.hasClass(this.root,"xgplayer-pip-active")}}]),Proxy}());t.default=a,e.exports=t.default},function(e,t,n){"use strict";var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(15),a=n(32),u=Function.prototype.apply,c=Function.prototype.call,o=Object.create,r=Object.defineProperty,s=Object.defineProperties,f=Object.prototype.hasOwnProperty,d={configurable:!0,enumerable:!1,writable:!0},p=function on(e,t){var n;return a(t),f.call(this,"__ee__")?n=this.__ee__:(n=d.value=o(null),r(this,"__ee__",d),d.value=null),n[e]?"object"===l(n[e])?n[e].push(t):n[e]=[n[e],t]:n[e]=t,this},h=function once(e,t){var n,i;return a(t),p.call(i=this,e,n=function once(){g.call(i,e,n),u.call(t,this,arguments)}),n.__eeOnceListener__=t,this},g=function off(e,t){var n,i,o,r;if(a(t),!f.call(this,"__ee__"))return this;if(!(n=this.__ee__)[e])return this;if("object"===(void 0===(i=n[e])?"undefined":l(i)))for(r=0;o=i[r];++r)o!==t&&o.__eeOnceListener__!==t||(2===i.length?n[e]=i[r?0:1]:i.splice(r,1));else i!==t&&i.__eeOnceListener__!==t||delete n[e];return this},y=function emit(e,t,n){var i,o,r,a,s;if(f.call(this,"__ee__")&&(a=this.__ee__[e]))if("object"===(void 0===a?"undefined":l(a))){for(o=arguments.length,s=new Array(o-1),i=1;i<o;++i)s[i-1]=arguments[i];for(a=a.slice(),i=0;r=a[i];++i)u.call(r,this,s)}else switch(arguments.length){case 1:c.call(a,this);break;case 2:c.call(a,this,t);break;case 3:c.call(a,this,t,n);break;default:for(o=arguments.length,s=new Array(o-1),i=1;i<o;++i)s[i-1]=arguments[i];u.call(a,this,s)}},v={on:p,once:h,off:g,emit:y},m={on:i(p),once:i(h),off:i(g),emit:i(y)},b=s({},m);e.exports=t=function exports(e){return null==e?o(b):s(Object(e),m)},t.methods=v},function(e,t,n){"use strict";var s=n(5),l=n(16),u=n(20),c=n(28),f=n(29);(e.exports=function(e,t){var n,i,o,r,a;return arguments.length<2||"string"!=typeof e?(r=t,t=e,e=null):r=arguments[2],s(e)?(n=f.call(e,"c"),i=f.call(e,"e"),o=f.call(e,"w")):i=!(n=o=!0),a={value:t,configurable:n,enumerable:i,writable:o},r?u(c(r),a):a}).gs=function(e,t,n){var i,o,r,a;return"string"!=typeof e?(r=n,n=t,t=e,e=null):r=arguments[3],s(t)?l(t)?s(n)?l(n)||(r=n,n=void 0):n=void 0:(r=t,t=n=void 0):t=void 0,o=s(e)?(i=f.call(e,"c"),f.call(e,"e")):!(i=!0),a={get:t,set:n,configurable:i,enumerable:o},r?u(c(r),a):a}},function(e,t,n){"use strict";var i=n(17),o=/^\s*class[\s{/}]/,r=Function.prototype.toString;e.exports=function(e){return!!i(e)&&!o.test(r.call(e))}},function(e,t,n){"use strict";var i=n(18);e.exports=function(e){if("function"!=typeof e)return!1;if(!hasOwnProperty.call(e,"length"))return!1;try{if("number"!=typeof e.length)return!1;if("function"!=typeof e.call)return!1;if("function"!=typeof e.apply)return!1}catch(e){return!1}return!i(e)}},function(e,t,n){"use strict";var i=n(19);e.exports=function(e){if(!i(e))return!1;try{return e.constructor?e.constructor.prototype===e:!1}catch(e){return!1}}},function(e,t,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(5),r={object:!0,function:!0,undefined:!0};e.exports=function(e){return!!o(e)&&hasOwnProperty.call(r,void 0===e?"undefined":i(e))}},function(e,t,n){"use strict";e.exports=n(21)()?Object.assign:n(22)},function(e,t,n){"use strict";e.exports=function(){var e,t=Object.assign;return"function"==typeof t&&(t(e={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},function(e,t,n){"use strict";var a=n(23),s=n(27),l=Math.max;e.exports=function(t,n){var i,e,o,r=l(arguments.length,2);for(t=Object(s(t)),o=function assign(e){try{t[e]=n[e]}catch(e){i=i||e}},e=1;e<r;++e)a(n=arguments[e]).forEach(o);if(void 0!==i)throw i;return t}},function(e,t,n){"use strict";e.exports=n(24)()?Object.keys:n(25)},function(e,t,n){"use strict";e.exports=function(){try{return Object.keys("primitive"),!0}catch(e){return!1}}},function(e,t,n){"use strict";var i=n(3),o=Object.keys;e.exports=function(e){return o(i(e)?Object(e):e)}},function(e,t,n){"use strict";e.exports=function(){}},function(e,t,n){"use strict";var i=n(3);e.exports=function(e){if(!i(e))throw new TypeError("Cannot use null or undefined");return e}},function(e,t,n){"use strict";var i=n(3),o=Array.prototype.forEach,r=Object.create;e.exports=function(e){var t=r(null);return o.call(arguments,function(e){i(e)&&function process(e,t){var n;for(n in e)t[n]=e[n]}(Object(e),t)}),t}},function(e,t,n){"use strict";e.exports=n(30)()?String.prototype.contains:n(31)},function(e,t,n){"use strict";var i="razdwatrzy";e.exports=function(){return"function"==typeof i.contains&&(!0===i.contains("dwa")&&!1===i.contains("foo"))}},function(e,t,n){"use strict";var i=String.prototype.indexOf;e.exports=function(e){return-1<i.call(this,e,arguments[1])}},function(e,t,n){"use strict";e.exports=function(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var o=function(){function INDEXDB(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{name:"xgplayer",version:1,db:null,ojstore:{name:"xg-m4a",keypath:"vid"}};!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,INDEXDB),this.indexedDB=window.indexedDB||window.webkitindexedDB,this.IDBKeyRange=window.IDBKeyRange||window.webkitIDBKeyRange,this.myDB=e}return i(INDEXDB,[{key:"openDB",value:function openDB(t){var n=this,i=this,e=this.myDB.version||1,o=i.indexedDB.open(i.myDB.name,e);o.onerror=function(e){},o.onsuccess=function(e){n.myDB.db=e.target.result,t.call(i)},o.onupgradeneeded=function(e){var t=e.target.result;e.target.transaction;t.objectStoreNames.contains(i.myDB.ojstore.name)||t.createObjectStore(i.myDB.ojstore.name,{keyPath:i.myDB.ojstore.keypath})}}},{key:"deletedb",value:function deletedb(){this.indexedDB.deleteDatabase(this.myDB.name)}},{key:"closeDB",value:function closeDB(){this.myDB.db.close()}},{key:"addData",value:function addData(e,t){for(var n=this.myDB.db.transaction(e,"readwrite").objectStore(e),i=void 0,o=0;o<t.length;o++)(i=n.add(t[o])).onerror=function(){},i.onsuccess=function(){}}},{key:"putData",value:function putData(e,t){for(var n=this.myDB.db.transaction(e,"readwrite").objectStore(e),i=void 0,o=0;o<t.length;o++)(i=n.put(t[o])).onerror=function(){},i.onsuccess=function(){}}},{key:"getDataByKey",value:function getDataByKey(e,t,n){var i=this,o=this.myDB.db.transaction(e,"readwrite").objectStore(e).get(t);o.onerror=function(){n.call(i,null)},o.onsuccess=function(e){var t=e.target.result;n.call(i,t)}}},{key:"deleteData",value:function deleteData(e,t){this.myDB.db.transaction(e,"readwrite").objectStore(e).delete(t)}},{key:"clearData",value:function clearData(e){this.myDB.db.transaction(e,"readwrite").objectStore(e).clear()}}]),INDEXDB}();t.default=o,e.exports=t.default},function(e,t,i){"use strict";var o,r;
/*!
 * Draggabilly v2.3.0
 * Make that shiz draggable
 * https://draggabilly.desandro.com
 * MIT license
 */
!function(n){o=[i(35),i(36)],void 0===(r=function(e,t){return function factory(r,l,e){function extend(e,t){for(var n in t){e[n]=t[n]}return e}function noop(){}var n=r.jQuery;function Draggabilly(e,t){this.element=typeof e=="string"?document.querySelector(e):e;if(n){this.$element=n(this.element)}this.options=extend({},this.constructor.defaults);this.option(t);this._create()}var t=Draggabilly.prototype=Object.create(e.prototype);Draggabilly.defaults={},t.option=function(e){extend(this.options,e)};var i={relative:true,absolute:true,fixed:true};function applyGrid(e,t,n){n=n||"round";return t?Math[n](e/t)*t:e}if(t._create=function(){this.position={};this._getPosition();this.startPoint={x:0,y:0};this.dragPoint={x:0,y:0};this.startPosition=extend({},this.position);var e=getComputedStyle(this.element);if(!i[e.position]){this.element.style.position="relative"}this.on("pointerMove",this.onPointerMove);this.on("pointerUp",this.onPointerUp);this.enable();this.setHandles()},t.setHandles=function(){this.handles=this.options.handle?this.element.querySelectorAll(this.options.handle):[this.element];this.bindHandles()},t.dispatchEvent=function(e,t,n){var i=[t].concat(n);this.emitEvent(e,i);this.dispatchJQueryEvent(e,t,n)},t.dispatchJQueryEvent=function(e,t,n){var i=r.jQuery;if(!i||!this.$element){return}var o=i.Event(t);o.type=e;this.$element.trigger(o,n)},t._getPosition=function(){var e=getComputedStyle(this.element);var t=this._getPositionCoord(e.left,"width");var n=this._getPositionCoord(e.top,"height");this.position.x=isNaN(t)?0:t;this.position.y=isNaN(n)?0:n;this._addTransformPosition(e)},t._getPositionCoord=function(e,t){if(e.indexOf("%")!=-1){var n=l(this.element.parentNode);return!n?0:parseFloat(e)/100*n[t]}return parseInt(e,10)},t._addTransformPosition=function(e){var t=e.transform;if(t.indexOf("matrix")!==0){return}var n=t.split(",");var i=t.indexOf("matrix3d")===0?12:4;var o=parseInt(n[i],10);var r=parseInt(n[i+1],10);this.position.x+=o;this.position.y+=r},t.onPointerDown=function(e,t){this.element.classList.add("is-pointer-down");this.dispatchJQueryEvent("pointerDown",e,[t])},t.pointerDown=function(e,t){var n=this.okayPointerDown(e);if(!n||!this.isEnabled){this._pointerReset();return}this.pointerDownPointer={pageX:t.pageX,pageY:t.pageY};e.preventDefault();this.pointerDownBlur();this._bindPostStartEvents(e);this.element.classList.add("is-pointer-down");this.dispatchEvent("pointerDown",e,[t])},t.dragStart=function(e,t){if(!this.isEnabled){return}this._getPosition();this.measureContainment();this.startPosition.x=this.position.x;this.startPosition.y=this.position.y;this.setLeftTop();this.dragPoint.x=0;this.dragPoint.y=0;this.element.classList.add("is-dragging");this.dispatchEvent("dragStart",e,[t]);this.animate()},t.measureContainment=function(){var e=this.getContainer();if(!e){return}var t=l(this.element);var n=l(e);var i=this.element.getBoundingClientRect();var o=e.getBoundingClientRect();var r=n.borderLeftWidth+n.borderRightWidth;var a=n.borderTopWidth+n.borderBottomWidth;var s=this.relativeStartPosition={x:i.left-(o.left+n.borderLeftWidth),y:i.top-(o.top+n.borderTopWidth)};this.containSize={width:n.width-r-s.x-t.width,height:n.height-a-s.y-t.height}},t.getContainer=function(){var e=this.options.containment;if(!e){return}var t=e instanceof HTMLElement;if(t){return e}if(typeof e=="string"){return document.querySelector(e)}return this.element.parentNode},t.onPointerMove=function(e,t,n){this.dispatchJQueryEvent("pointerMove",e,[t,n])},t.dragMove=function(e,t,n){if(!this.isEnabled){return}var i=n.x;var o=n.y;var r=this.options.grid;var a=r&&r[0];var s=r&&r[1];i=applyGrid(i,a);o=applyGrid(o,s);i=this.containDrag("x",i,a);o=this.containDrag("y",o,s);i=this.options.axis=="y"?0:i;o=this.options.axis=="x"?0:o;this.position.x=this.startPosition.x+i;this.position.y=this.startPosition.y+o;this.dragPoint.x=i;this.dragPoint.y=o;this.dispatchEvent("dragMove",e,[t,n])},t.containDrag=function(e,t,n){if(!this.options.containment){return t}var i=e=="x"?"width":"height";var o=this.relativeStartPosition[e];var r=applyGrid(-o,n,"ceil");var a=this.containSize[i];a=applyGrid(a,n,"floor");return Math.max(r,Math.min(a,t))},t.onPointerUp=function(e,t){this.element.classList.remove("is-pointer-down");this.dispatchJQueryEvent("pointerUp",e,[t])},t.dragEnd=function(e,t){if(!this.isEnabled){return}this.element.style.transform="";this.setLeftTop();this.element.classList.remove("is-dragging");this.dispatchEvent("dragEnd",e,[t])},t.animate=function(){if(!this.isDragging){return}this.positionDrag();var e=this;requestAnimationFrame(function animateFrame(){e.animate()})},t.setLeftTop=function(){this.element.style.left=this.position.x+"px";this.element.style.top=this.position.y+"px"},t.positionDrag=function(){this.element.style.transform="translate3d( "+this.dragPoint.x+"px, "+this.dragPoint.y+"px, 0)"},t.staticClick=function(e,t){this.dispatchEvent("staticClick",e,[t])},t.setPosition=function(e,t){this.position.x=e;this.position.y=t;this.setLeftTop()},t.enable=function(){this.isEnabled=true},t.disable=function(){this.isEnabled=false;if(this.isDragging){this.dragEnd()}},t.destroy=function(){this.disable();this.element.style.transform="";this.element.style.left="";this.element.style.top="";this.element.style.position="";this.unbindHandles();if(this.$element){this.$element.removeData("draggabilly")}},t._init=noop,n&&n.bridget){n.bridget("draggabilly",Draggabilly)}return Draggabilly}(n,e,t)}.apply(t,o))||(e.exports=r)}(window)},function(e,t,n){"use strict";var i,o,x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};window,void 0===(o="function"==typeof(i=function factory(){"use strict";function getStyleSize(e){var t=parseFloat(e);var n=e.indexOf("%")==-1&&!isNaN(t);return n&&t}function noop(){}var n=typeof console=="undefined"?noop:function(e){console.error(e)},v=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],m=v.length;function getZeroSize(){var e={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0};for(var t=0;t<m;t++){var n=v[t];e[n]=0}return e}function getStyle(e){var t=getComputedStyle(e);if(!t){n("Style returned "+t+". Are you running this code in a hidden iframe on Firefox? "+"See https://bit.ly/getsizebug1")}return t}var i=false,b;function setup(){if(i){return}i=true;var e=document.createElement("div");e.style.width="200px";e.style.padding="1px 2px 3px 4px";e.style.borderStyle="solid";e.style.borderWidth="1px 2px 3px 4px";e.style.boxSizing="border-box";var t=document.body||document.documentElement;t.appendChild(e);var n=getStyle(e);b=Math.round(getStyleSize(n.width))==200;getSize.isBoxSizeOuter=b;t.removeChild(e)}function getSize(e){setup();if(typeof e=="string"){e=document.querySelector(e)}if(!e||(typeof e==="undefined"?"undefined":x(e))!="object"||!e.nodeType){return}var t=getStyle(e);if(t.display=="none"){return getZeroSize()}var n={};n.width=e.offsetWidth;n.height=e.offsetHeight;var i=n.isBorderBox=t.boxSizing=="border-box";for(var o=0;o<m;o++){var r=v[o];var a=t[r];var s=parseFloat(a);n[r]=!isNaN(s)?s:0}var l=n.paddingLeft+n.paddingRight;var u=n.paddingTop+n.paddingBottom;var c=n.marginLeft+n.marginRight;var f=n.marginTop+n.marginBottom;var d=n.borderLeftWidth+n.borderRightWidth;var p=n.borderTopWidth+n.borderBottomWidth;var h=i&&b;var g=getStyleSize(t.width);if(g!==false){n.width=g+(h?0:l+d)}var y=getStyleSize(t.height);if(y!==false){n.height=y+(h?0:u+p)}n.innerWidth=n.width-(l+d);n.innerHeight=n.height-(u+p);n.outerWidth=n.width+c;n.outerHeight=n.height+f;return n}return getSize})?i.call(t,n,t,e):i)||(e.exports=o)},function(e,n,i){"use strict";var o,r;
/*!
 * Unidragger v2.3.1
 * Draggable base class
 * MIT license
 */
!function(t){o=[i(37)],void 0===(r=function(e){return function factory(r,e){"use strict";function Unidragger(){}var t=Unidragger.prototype=Object.create(e.prototype);t.bindHandles=function(){this._bindHandles(true)},t.unbindHandles=function(){this._bindHandles(false)},t._bindHandles=function(e){e=e===undefined?true:e;var t=e?"addEventListener":"removeEventListener";var n=e?this._touchActionValue:"";for(var i=0;i<this.handles.length;i++){var o=this.handles[i];this._bindStartEvent(o,e);o[t]("click",this);if(r.PointerEvent){o.style.touchAction=n}}},t._touchActionValue="none",t.pointerDown=function(e,t){var n=this.okayPointerDown(e);if(!n){return}this.pointerDownPointer={pageX:t.pageX,pageY:t.pageY};e.preventDefault();this.pointerDownBlur();this._bindPostStartEvents(e);this.emitEvent("pointerDown",[e,t])};var o={TEXTAREA:true,INPUT:true,SELECT:true,OPTION:true},a={radio:true,checkbox:true,button:true,submit:true,image:true,file:true};return t.okayPointerDown=function(e){var t=o[e.target.nodeName],n=a[e.target.type],i=!t||n;return i||this._pointerReset(),i},t.pointerDownBlur=function(){var e=document.activeElement;e&&e.blur&&e!=document.body&&e.blur()},t.pointerMove=function(e,t){var n=this._dragPointerMove(e,t);this.emitEvent("pointerMove",[e,t,n]),this._dragMove(e,t,n)},t._dragPointerMove=function(e,t){var n={x:t.pageX-this.pointerDownPointer.pageX,y:t.pageY-this.pointerDownPointer.pageY};return!this.isDragging&&this.hasDragStarted(n)&&this._dragStart(e,t),n},t.hasDragStarted=function(e){return 3<Math.abs(e.x)||3<Math.abs(e.y)},t.pointerUp=function(e,t){this.emitEvent("pointerUp",[e,t]),this._dragPointerUp(e,t)},t._dragPointerUp=function(e,t){this.isDragging?this._dragEnd(e,t):this._staticClick(e,t)},t._dragStart=function(e,t){this.isDragging=!0,this.isPreventingClicks=!0,this.dragStart(e,t)},t.dragStart=function(e,t){this.emitEvent("dragStart",[e,t])},t._dragMove=function(e,t,n){this.isDragging&&this.dragMove(e,t,n)},t.dragMove=function(e,t,n){e.preventDefault(),this.emitEvent("dragMove",[e,t,n])},t._dragEnd=function(e,t){this.isDragging=!1,setTimeout(function(){delete this.isPreventingClicks}.bind(this)),this.dragEnd(e,t)},t.dragEnd=function(e,t){this.emitEvent("dragEnd",[e,t])},t.onclick=function(e){this.isPreventingClicks&&e.preventDefault()},t._staticClick=function(e,t){this.isIgnoringMouseUp&&"mouseup"==e.type||(this.staticClick(e,t),"mouseup"!=e.type&&(this.isIgnoringMouseUp=!0,setTimeout(function(){delete this.isIgnoringMouseUp}.bind(this),400)))},t.staticClick=function(e,t){this.emitEvent("staticClick",[e,t])},Unidragger.getPointerPoint=e.getPointerPoint,Unidragger}(t,e)}.apply(n,o))||(e.exports=r)}(window)},function(e,n,i){"use strict";var o,r;
/*!
 * Unipointer v2.3.0
 * base class for doing one thing with pointer event
 * MIT license
 */
!function(t){o=[i(38)],void 0===(r=function(e){return function factory(o,e){"use strict";function noop(){}function Unipointer(){}var t=Unipointer.prototype=Object.create(e.prototype);t.bindStartEvent=function(e){this._bindStartEvent(e,true)},t.unbindStartEvent=function(e){this._bindStartEvent(e,false)},t._bindStartEvent=function(e,t){t=t===undefined?true:t;var n=t?"addEventListener":"removeEventListener";var i="mousedown";if(o.PointerEvent){i="pointerdown"}else if("ontouchstart"in o){i="touchstart"}e[n](i,this)},t.handleEvent=function(e){var t="on"+e.type;if(this[t]){this[t](e)}},t.getTouch=function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.identifier==this.pointerIdentifier){return n}}},t.onmousedown=function(e){var t=e.button;if(t&&t!==0&&t!==1){return}this._pointerDown(e,e)},t.ontouchstart=function(e){this._pointerDown(e,e.changedTouches[0])},t.onpointerdown=function(e){this._pointerDown(e,e)},t._pointerDown=function(e,t){if(e.button||this.isPointerDown){return}this.isPointerDown=true;this.pointerIdentifier=t.pointerId!==undefined?t.pointerId:t.identifier;this.pointerDown(e,t)},t.pointerDown=function(e,t){this._bindPostStartEvents(e);this.emitEvent("pointerDown",[e,t])};var n={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"]};return t._bindPostStartEvents=function(e){var t;e&&((t=n[e.type]).forEach(function(e){o.addEventListener(e,this)},this),this._boundPointerEvents=t)},t._unbindPostStartEvents=function(){this._boundPointerEvents&&(this._boundPointerEvents.forEach(function(e){o.removeEventListener(e,this)},this),delete this._boundPointerEvents)},t.onmousemove=function(e){this._pointerMove(e,e)},t.onpointermove=function(e){e.pointerId==this.pointerIdentifier&&this._pointerMove(e,e)},t.ontouchmove=function(e){var t=this.getTouch(e.changedTouches);t&&this._pointerMove(e,t)},t._pointerMove=function(e,t){this.pointerMove(e,t)},t.pointerMove=function(e,t){this.emitEvent("pointerMove",[e,t])},t.onmouseup=function(e){this._pointerUp(e,e)},t.onpointerup=function(e){e.pointerId==this.pointerIdentifier&&this._pointerUp(e,e)},t.ontouchend=function(e){var t=this.getTouch(e.changedTouches);t&&this._pointerUp(e,t)},t._pointerUp=function(e,t){this._pointerDone(),this.pointerUp(e,t)},t.pointerUp=function(e,t){this.emitEvent("pointerUp",[e,t])},t._pointerDone=function(){this._pointerReset(),this._unbindPostStartEvents(),this.pointerDone()},t._pointerReset=function(){this.isPointerDown=!1,delete this.pointerIdentifier},t.pointerDone=function noop(){},t.onpointercancel=function(e){e.pointerId==this.pointerIdentifier&&this._pointerCancel(e,e)},t.ontouchcancel=function(e){var t=this.getTouch(e.changedTouches);t&&this._pointerCancel(e,t)},t._pointerCancel=function(e,t){this._pointerDone(),this.pointerCancel(e,t)},t.pointerCancel=function(e,t){this.emitEvent("pointerCancel",[e,t])},Unipointer.getPointerPoint=function(e){return{x:e.pageX,y:e.pageY}},Unipointer}(t,e)}.apply(n,o))||(e.exports=r)}(window)},function(e,t,n){"use strict";var i,o;void 0===(o="function"==typeof(i=function(){"use strict";function EvEmitter(){}var e=EvEmitter.prototype;return e.on=function(e,t){if(e&&t){var n=this._events=this._events||{},i=n[e]=n[e]||[];return-1==i.indexOf(t)&&i.push(t),this}},e.once=function(e,t){if(e&&t){this.on(e,t);var n=this._onceEvents=this._onceEvents||{};return(n[e]=n[e]||{})[t]=!0,this}},e.off=function(e,t){var n=this._events&&this._events[e];if(n&&n.length){var i=n.indexOf(t);return-1!=i&&n.splice(i,1),this}},e.emitEvent=function(e,t){var n=this._events&&this._events[e];if(n&&n.length){n=n.slice(0),t=t||[];for(var i=this._onceEvents&&this._onceEvents[e],o=0;o<n.length;o++){var r=n[o];i&&i[r]&&(this.off(e,r),delete i[r]),r.apply(this,t)}return this}},e.allOff=function(){delete this._events,delete this._onceEvents},EvEmitter})?i.call(t,n,t,e):i)||(e.exports=o)},function(e,t,n){(e.exports=n(1)(!1)).push([e.i,'.xgplayer{background:#000;width:100%;height:100%;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;-ms-user-select:none}.xgplayer *{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline}.xgplayer.xgplayer-rotate-fullscreen{position:absolute;top:0;left:100%;bottom:0;right:0;height:100vw!important;width:100vh!important;-webkit-transform-origin:top left;-ms-transform-origin:top left;transform-origin:top left;-webkit-transform:rotate(90deg);-ms-transform:rotate(90deg);transform:rotate(90deg)}.xgplayer.xgplayer-is-fullscreen{width:100%!important;height:100%!important;padding-top:0!important;z-index:9999}.xgplayer.xgplayer-is-fullscreen.xgplayer-inactive{cursor:none}.xgplayer video{width:100%;height:100%;outline:none}.xgplayer-icon{display:block;width:40px;height:40px;overflow:hidden;fill:#fff}.xgplayer-live{display:block;font-size:12px;color:#fff;line-height:40px;-webkit-order:1;-moz-box-ordinal-group:2;order:1}.xgplayer .xgplayer-none{display:none}@-webkit-keyframes playPause{0%{-webkit-transform:scale(1);transform:scale(1);opacity:1}99%{-webkit-transform:scale(1.3);transform:scale(1.3);opacity:0}to{-webkit-transform:scale(0);transform:scale(0);opacity:0}}@-webkit-keyframes loadingRotate{0%{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes loadingDashOffset{0%{stroke-dashoffset:236}to{stroke-dashoffset:0}}@-webkit-keyframes enterTips{0%{opacity:0;left:0;width:3px}50%{opacity:1;left:50%;width:5px}to{opacity:0;left:100%;width:3px}}.xgplayer-controls{display:-webkit-flex;display:-moz-box;display:flex;position:absolute;bottom:0;left:0;right:0;height:40px;background-image:linear-gradient(-1deg,rgba(0,0,0,.3),transparent);z-index:10}.xgplayer-nostart .xgplayer-controls{display:none}.no-controls .xgplayer-controls{display:none!important}.xgplayer-inactive .xgplayer-controls,.xgplayer-is-live .xgplayer-controls>*{display:none}.xgplayer-is-live .xgplayer-controls .xgplayer-fullscreen,.xgplayer-is-live .xgplayer-controls .xgplayer-live,.xgplayer-is-live .xgplayer-controls .xgplayer-placeholder,.xgplayer-is-live .xgplayer-controls .xgplayer-play,.xgplayer-is-live .xgplayer-controls .xgplayer-play-img,.xgplayer-is-live .xgplayer-controls .xgplayer-volume{display:block}.xgplayer-tips{background:rgba(0,0,0,.54);border-radius:1px;display:none;position:absolute;font-family:PingFangSC-Regular;font-size:11px;color:#fff;padding:2px 4px;text-align:center;top:-30px;left:50%;margin-left:-16px;width:auto;white-space:nowrap}.xgplayer-placeholder{-webkit-flex:1;-moz-box-flex:1;flex:1;-webkit-order:3;-moz-box-ordinal-group:4;order:3;display:block}.xgplayer-start{display:none;border-radius:50%;width:70px;height:70px;background:hsla(0,0%,100%,.3);overflow:hidden;text-align:center;line-height:70px;vertical-align:middle;position:absolute;left:50%;top:50%;z-index:1000;margin:-55px auto auto -35px;cursor:pointer}.xgplayer-nostart .xgplayer-start,.xgplayer-start-appear .xgplayer-start{margin:-35px auto auto -35px;display:inline-block}.xgplayer-inactive .xgplayer-start{margin:-35px auto auto -35px}.xgplayer-start svg{fill:hsla(0,0%,100%,.7);margin:14px}.xgplayer-start.xgplayer-start-interact{-webkit-animation:playPause .4s ease-out forwards;animation:playPause .4s ease-out forwards}.xgplayer-start:hover{background:hsla(0,0%,100%,.5)}.xgplayer-start:hover svg{fill:hsla(0,0%,100%,.6)}.xgplayer-start-img{display:none;position:absolute;left:50%;top:50%;z-index:1000;cursor:pointer}.xgplayer-nostart .xgplayer-start-img{display:block}.xgplayer-start-img.xgplayer-start-interact{-webkit-animation:playPause .4s ease-out forwards;animation:playPause .4s ease-out forwards}.xgplayer-start-img:hover{opacity:.85}@keyframes playPause{0%{-webkit-transform:scale(1);transform:scale(1);opacity:1}99%{-webkit-transform:scale(1.3);transform:scale(1.3);opacity:0}to{-webkit-transform:scale(0);transform:scale(0);opacity:0}}@keyframes loadingRotate{0%{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes loadingDashOffset{0%{stroke-dashoffset:236}to{stroke-dashoffset:0}}@keyframes enterTips{0%{opacity:0;left:0;width:3px}50%{opacity:1;left:50%;width:5px}to{opacity:0;left:100%;width:3px}}.xgplayer-enter{display:none;position:absolute;left:0;top:0;width:100%;height:100%;background:#000 url("//lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/byted-player-images/1.0.3/xg-bg.svg") no-repeat 50%/102%;z-index:1100}.xgplayer-enter .xgplayer-enter-logo{display:block;position:absolute;left:50%;top:50%;height:82px;width:242px;background-size:242px 82px;margin:-71px auto auto -121px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAWUAAAB4CAYAAAAquuNKAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFGmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNi4wLWMwMDIgNzkuMTY0NDYwLCAyMDIwLzA1LzEyLTE2OjA0OjE3ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjEuMiAoTWFjaW50b3NoKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjAtMDgtMjBUMTQ6Mjg6NTYrMDg6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIwLTA4LTIwVDE0OjMwOjMyKzA4OjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIwLTA4LTIwVDE0OjMwOjMyKzA4OjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9InNSR0IgSUVDNjE5NjYtMi4xIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjAwYTAwMjI3LTA0Y2Yt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)}.xgplayer-enter .xgplayer-enter-tips{display:none;position:absolute;left:50%;top:50%;width:198px;margin:20px auto auto -77px;height:1px;background:linear-gradient(90deg,#000,red,red,red,#000)}.xgplayer-enter .xgplayer-enter-tips:before{content:" ";display:block;width:5px;height:1px;border-radius:50%;position:absolute;left:0;top:0;-webkit-animation:enterTips 1.6s linear infinite;animation:enterTips 1.6s linear infinite;background:#fff}.xgplayer-is-enter .xgplayer-enter,.xgplayer-is-enter .xgplayer-enter .xgplayer-enter-tips{display:block}.xgplayer-screen-container{display:block;width:100%}',""])},function(e,t,n){"use strict";e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var o=t.protocol+"//"+t.host,r=o+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var n,i=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?e:(n=0===i.indexOf("//")?i:0===i.indexOf("/")?o+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(n)+")")})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PLAYER_EVENTS={PLAYER_WAITING:"PLAYER_WAITING",PLAYER_RESUME:"PLAYER_RESUME"}},function(t,n,i){"use strict";var o,r,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){"object"===a(n)&&void 0!==t?t.exports=e():void 0===(r="function"==typeof(o=e)?o.call(n,i,n,t):o)||(t.exports=r)}(function(){function Lt(e,t,n,i,o,r,a){var s=e.x,l=e.y;return{x:i*(s*=t)-o*(l*=n)+r,y:o*s+i*l+a}}function Nt(e,t,n,i){var o=e*i-t*n<0?-1:1,r=(e*n+t*i)/(Math.sqrt(e*e+t*t)*Math.sqrt(e*e+t*t));return 1<r&&(r=1),r<-1&&(r=-1),o*Math.acos(r)}function Pt(e){var t=e.px,n=e.py,i=e.cx,o=e.cy,l=e.rx,u=e.ry,r=e.xAxisRotation,a=void 0===r?0:r,s=e.largeArcFlag,c=void 0===s?0:s,f=e.sweepFlag,d=void 0===f?0:f,p=[];if(0===l||0===u)return[];var h=Math.sin(a*P/360),g=Math.cos(a*P/360),y=g*(t-i)/2+h*(n-o)/2,v=-h*(t-i)/2+g*(n-o)/2;if(0==y&&0==v)return[];l=Math.abs(l),u=Math.abs(u);var m=Math.pow(y,2)/Math.pow(l,2)+Math.pow(v,2)/Math.pow(u,2);1<m&&(l*=Math.sqrt(m),u*=Math.sqrt(m));var b=function getArcCenter(e,t,n,i,o,r,a,s,l,u,c,f){var d=Math.pow(o,2),p=Math.pow(r,2),h=Math.pow(c,2),g=Math.pow(f,2),y=d*p-d*g-p*h;y<0&&(y=0),y/=d*g+p*h;var v=(y=Math.sqrt(y)*(a===s?-1:1))*o/r*f,m=y*-r/o*c,b=u*v-l*m+(e+n)/2,x=l*v+u*m+(t+i)/2,w=(c-v)/o,k=(f-m)/r,E=(-c-v)/o,_=(-f-m)/r,C=Nt(1,0,w,k),T=Nt(w,k,E,_);return 0===s&&0<T&&(T-=P),1===s&&T<0&&(T+=P),[b,x,C,T]}(t,n,i,o,l,u,c,d,h,g,y,v),x=O(b,4),w=x[0],k=x[1],E=x[2],_=x[3],C=Math.max(Math.ceil(Math.abs(_)/(P/4)),1);_/=C;for(var T=0;T<C;T++)p.push(function approxUnitArc(e,t){var n=4/3*Math.tan(t/4),i=Math.cos(e),o=Math.sin(e),r=Math.cos(e+t),a=Math.sin(e+t);return[{x:i-o*n,y:o+i*n},{x:r+a*n,y:a-r*n},{x:r,y:a}]}(E,_)),E+=_;return p.map(function(e){var t=Lt(e[0],l,u,g,h,w,k),n=t.x,i=t.y,o=Lt(e[1],l,u,g,h,w,k),r=o.x,a=o.y,s=Lt(e[2],l,u,g,h,w,k);return{x1:n,y1:i,x2:r,y2:a,x:s.x,y:s.y}})}var O=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function sliceIterator(e,t){var n=[],i=!0,o=!1,r=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){o=!0,r=e}finally{try{!i&&s.return&&s.return()}finally{if(o)throw r}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},P=2*Math.PI,r={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},t=/([astvzqmhlc])([^astvzqmhlc]*)/gi;var a=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi;function shapeBox(e){var u=e[0][0],c=e[0][1],f=u,d=c;return e.forEach(function(e){var t=e[0],n=e[2],i=e[4],o=e[6],r=e[1],a=e[3],s=e[5],l=e[7];u=Math.min(u,t,n,i,o),c=Math.min(c,r,a,s,l),f=Math.max(f,t,n,i,o),d=Math.max(d,r,a,s,l)}),[u,c,f,d]}function sortCurves(i,o){var e=function permuteCurveNum(e){for(var t=[],n=0;n<e;n++){for(var i=[],o=0;o<e;o++){var r=o+n;e-1<r&&(r-=e),i[r]=o}t.push(i)}return t}(i.length),r=[];e.forEach(function(e){var t=0,n=0;e.forEach(function(e){t+=function curveDistance(e,t){var n=e[0],i=e[2],o=e[4],r=e[6],a=e[1],s=e[3],l=e[5],u=e[7],c=t[0],f=t[2],d=t[4],p=t[6],h=t[1],g=t[3],y=t[5],v=t[7];return Math.sqrt(Math.pow(c-n,2)+Math.pow(h-a,2))+Math.sqrt(Math.pow(f-i,2)+Math.pow(g-s,2))+Math.sqrt(Math.pow(d-o,2)+Math.pow(y-l,2))+Math.sqrt(Math.pow(p-r,2)+Math.pow(v-u,2))}(i[e],o[n++])}),r.push({index:e,distance:t})}),r.sort(function(e,t){return e.distance-t.distance});var t=[];return r[0].index.forEach(function(e){t.push(i[e])}),t}function sort(n,i){var e=function permuteNum(e){for(var t=[],n=0;n<e;n++)t.push(n);return function permute(e){var i=[],o=[];return function main(e){for(var t,n=0;n<e.length;n++)t=e.splice(n,1)[0],o.push(t),0==e.length&&i.push(o.slice()),main(e),e.splice(n,0,t),o.pop();return i}(e)}(t)}(n.length),o=[];e.forEach(function(e){var t=0;e.forEach(function(e){t+=function boxDistance(e,t){return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2))+Math.sqrt(Math.pow(e[2]-t[2],2)+Math.pow(e[3]-t[3],2))}(shapeBox(n[e]),shapeBox(i[e]))}),o.push({index:e,distance:t})}),o.sort(function(e,t){return e.distance-t.distance});var t=[];return o[0].index.forEach(function(e){t.push(n[e])}),t}var m={};function _split(e,t,n,i,o,r,a,s,l,u){var c=(n-e)*l+e,f=(i-t)*l+t,d=(o-n)*l+n,p=(r-i)*l+i,h=(d-c)*l+c,g=(p-f)*l+f,y=(((a-o)*l+o-d)*l+d-h)*l+h,v=(((s-r)*l+r-p)*l+p-g)*l+g;return u?[y,v,h,g,c,f,e,t]:[e,t,c,f,h,g,y,v]}function sync(n,e){for(var t=0;t<e;t++)!function _loop(){var e=n[n.length-1],t=[];e.forEach(function(e){t.push(e.slice(0))}),n.push(t)}()}return m.parser=function parse(e){var o=[];return e.replace(t,function(e,t,n){var i=t.toLowerCase();for(n=function parseValues(e){var t=e.match(a);return t?t.map(Number):[]}(n),"m"==i&&2<n.length&&(o.push([t].concat(n.splice(0,2))),i="l",t="m"==t?"l":"L");;){if(n.length==r[i])return n.unshift(t),o.push(n);if(n.length<r[i])throw new Error("malformed path data");o.push([t].concat(n.splice(0,r[i])))}}),o},m.lerpCurve=function(e,t,n){return m.lerpPoints(e[0],e[1],t[0],t[1],n).concat(m.lerpPoints(e[2],e[3],t[2],t[3],n)).concat(m.lerpPoints(e[4],e[5],t[4],t[5],n)).concat(m.lerpPoints(e[6],e[7],t[6],t[7],n))},m.lerpPoints=function(e,t,n,i,o){return[e+(n-e)*o,t+(i-t)*o]},m.q2b=function(e,t,n,i,o,r){return[e,t,(e+2*n)/3,(t+2*i)/3,(o+2*n)/3,(r+2*i)/3,o,r]},m.path2shapes=function(e){for(var t=m.parser(e),n=0,i=0,o=0,r=t.length,a=[],s=null,l=void 0,u=void 0,c=void 0,f=void 0,d=void 0,p=void 0,h=void 0;o<r;o++){var g=t[o],y=g[0],v=t[o-1];switch(y){case"m":a[d=a.length]=[],s=a[d],n+=g[1],i+=g[2];break;case"M":a[d=a.length]=[],s=a[d],n=g[1],i=g[2];break;case"l":s.push([n,i,n,i,n,i,n+g[1],i+g[2]]),n+=g[1],i+=g[2];break;case"L":s.push([n,i,g[1],g[2],g[1],g[2],g[1],g[2]]),n=g[1],i=g[2];break;case"h":s.push([n,i,n,i,n,i,n+g[1],i]),n+=g[1];break;case"H":s.push([n,i,g[1],i,g[1],i,g[1],i]),n=g[1];break;case"v":s.push([n,i,n,i,n,i,n,i+g[1]]),i+=g[1];break;case"V":s.push([n,i,n,g[1],n,g[1],n,g[1]]),i=g[1];break;case"C":s.push([n,i,g[1],g[2],g[3],g[4],g[5],g[6]]),n=g[5],i=g[6];break;case"S":"C"===v[0]||"c"===v[0]?s.push([n,i,n+v[5]-v[3],i+v[6]-v[4],g[1],g[2],g[3],g[4]]):"S"!==v[0]&&"s"!==v[0]||s.push([n,i,n+v[3]-v[1],i+v[4]-v[2],g[1],g[2],g[3],g[4]]),n=g[3],i=g[4];break;case"c":s.push([n,i,n+g[1],i+g[2],n+g[3],i+g[4],n+g[5],i+g[6]]),n+=g[5],i+=g[6];break;case"s":"C"===v[0]||"c"===v[0]?s.push([n,i,n+v[5]-v[3],i+v[6]-v[4],n+g[1],i+g[2],n+g[3],i+g[4]]):"S"!==v[0]&&"s"!==v[0]||s.push([n,i,n+v[3]-v[1],i+v[4]-v[2],n+g[1],i+g[2],n+g[3],i+g[4]]),n+=g[3],i+=g[4];break;case"a":h=(p=Pt({rx:g[1],ry:g[2],px:n,py:i,xAxisRotation:g[3],largeArcFlag:g[4],sweepFlag:g[5],cx:n+g[6],cy:i+g[7]}))[p.length-1],p.forEach(function(e,t){0===t?s.push([n,i,e.x1,e.y1,e.x2,e.y2,e.x,e.y]):s.push([p[t-1].x,p[t-1].y,e.x1,e.y1,e.x2,e.y2,e.x,e.y])}),n=h.x,i=h.y;break;case"A":h=(p=Pt({rx:g[1],ry:g[2],px:n,py:i,xAxisRotation:g[3],largeArcFlag:g[4],sweepFlag:g[5],cx:g[6],cy:g[7]}))[p.length-1],p.forEach(function(e,t){0===t?s.push([n,i,e.x1,e.y1,e.x2,e.y2,e.x,e.y]):s.push([p[t-1].x,p[t-1].y,e.x1,e.y1,e.x2,e.y2,e.x,e.y])}),n=h.x,i=h.y;break;case"Q":s.push(m.q2b(n,i,g[1],g[2],g[3],g[4])),n=g[3],i=g[4];break;case"q":s.push(m.q2b(n,i,n+g[1],i+g[2],g[3]+n,g[4]+i)),n+=g[3],i+=g[4];break;case"T":"Q"===v[0]||"q"===v[0]?(c=n+v[3]-v[1],f=i+v[4]-v[2],s.push(m.q2b(n,i,c,f,g[1],g[2]))):"T"!==v[0]&&"t"!==v[0]||(s.push(m.q2b(n,i,n+n-c,i+i-f,g[1],g[2])),c=n+n-c,f=i+i-f),n=g[1],i=g[2];break;case"t":"Q"===v[0]||"q"===v[0]?(c=n+v[3]-v[1],f=i+v[4]-v[2],s.push(m.q2b(n,i,c,f,n+g[1],i+g[2]))):"T"!==v[0]&&"t"!==v[0]||(s.push(m.q2b(n,i,n+n-c,i+i-f,n+g[1],i+g[2])),c=n+n-c,f=i+i-f),n+=g[1],i+=g[2];break;case"Z":case"z":l=s[0][0],u=s[0][1],s.push([n,i,l,u,l,u,l,u])}}return a},m._upCurves=function(e,t){for(var n=0,i=0,o=e.length;n<t;n++)e.push(e[i].slice(0)),o-1<++i&&(i-=o)},m._splitCurves=function(e,t){for(var n=0,i=0;n<t;n++){var o=e[i],r=function split(e,t,n,i,o,r,a,s,l){return{left:_split(e,t,n,i,o,r,a,s,l),right:_split(a,s,o,r,n,i,e,t,1-l,!0)}}(o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],.5);e.splice(i,1),e.splice(i,0,r.left,r.right),(i+=2)>=e.length-1&&(i=0)}},m.lerp=function(e,t,n){return m._lerp(m.path2shapes(e),m.path2shapes(t),n)},m.MIM_CURVES_COUNT=100,m._preprocessing=function(e,t){var n=e.length,i=t.length,o=JSON.parse(JSON.stringify(e)),r=JSON.parse(JSON.stringify(t));return i<n?sync(r,n-i):n<i&&sync(o,i-n),(o=sort(o,r)).forEach(function(e,t){var n=e.length,i=r[t].length;i<n?n<m.MIM_CURVES_COUNT?(m._splitCurves(e,m.MIM_CURVES_COUNT-n),m._splitCurves(r[t],m.MIM_CURVES_COUNT-i)):m._splitCurves(r[t],n-i):n<i&&(i<m.MIM_CURVES_COUNT?(m._splitCurves(e,m.MIM_CURVES_COUNT-n),m._splitCurves(r[t],m.MIM_CURVES_COUNT-i)):m._splitCurves(e,i-n))}),o.forEach(function(e,t){o[t]=sortCurves(e,r[t])}),[o,r]},m._lerp=function(e,o,r){var t=[];return e.forEach(function(e,n){var i=[];e.forEach(function(e,t){i.push(m.lerpCurve(e,o[n][t],r))}),t.push(i)}),t},m.animate=function(e){var t=m.path2shapes(e.from),n=m.path2shapes(e.to),i=m._preprocessing(t,n),o=new Date,r=e.end||function(){},a=e.progress||function(){},s=e.begin||function(){},l=e.easing||function(e){return e},u=null,c=null,f=e.time;s(t);!function tick(){var e=new Date-o;if(f<=e)return a(c=n,1),r(c),void cancelAnimationFrame(u);var t=l(e/f);c=m._lerp(i[0],i[1],t),a(c,t),u=requestAnimationFrame(tick)}()},m})},function(e,t,n){"use strict";!function(){for(var r=0,e=["webkit","moz"],t=0;t<e.length&&!window.requestAnimationFrame;++t)window.requestAnimationFrame=window[e[t]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[t]+"CancelAnimationFrame"]||window[e[t]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,t){var n=(new Date).getTime(),i=Math.max(0,16-(n-r)),o=window.setTimeout(function(){e(n+i)},i);return r=n+i,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(n(0));n(45);t.default={name:"time",method:function time(){var e=this,t=o.default.util,n=t.format,i=t.createDom("xg-time","<span>"+(e.currentTime||n(0))+"</span><em>"+(e.duration||n(0))+"</em>",{},"xgplayer-time");e.controls.appendChild(i);function bA(){"audio"===e.videoConfig.mediaType&&e.isProgressMoving&&e.dash||(i.innerHTML="<span>"+n(e.currentTime||0)+"</span><em>"+n(e.duration))}t.on(e,"durationchange",bA,"destroy"),t.on(e,"timeupdate",bA,"destroy")}},e.exports=t.default},function(e,t,n){var i=n(46);"string"==typeof i&&(i=[[e.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,o);i.locals&&(e.exports=i.locals)},function(e,t,n){(e.exports=n(1)(!1)).push([e.i,'.xgplayer-time{-webkit-order:2;-moz-box-ordinal-group:3;order:2;font-family:ArialMT;font-size:13px;color:#fff;line-height:40px;display:inline-block}.xgplayer-time span:after{content:"/";display:inline-block;padding:0 3px}.xgplayer-time em{color:hsla(0,0%,100%,.5)}',""])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=_interopRequireDefault(n(0));_interopRequireDefault(n(10));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}n(48);t.default={name:"poster",method:function poster(){var e=this,t=i.default.util,poster=t.createDom("xg-poster","",{},"xgplayer-poster"),n=e.root;function hiddenPoster(){poster.style.display="none"}e.config.poster&&(poster.style.backgroundImage="url("+e.config.poster+")",n.appendChild(poster)),t.on(e,"play",hiddenPoster,"destroy"),t.on(e,"complete",hiddenPoster,"destroy")}},e.exports=t.default},function(e,t,n){var i=n(49);"string"==typeof i&&(i=[[e.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,o);i.locals&&(e.exports=i.locals)},function(e,t,n){(e.exports=n(1)(!1)).push([e.i,".xgplayer-poster{position:absolute;left:0;top:0;width:100%;height:100%;z-index:100;background-size:cover;background-position:50%}",""])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(n(0));n(51);t.default={name:"playbackRate",method:function playbackRate(){var o=this,r=c.default.sniffer,a=c.default.util;if(!o.config.playbackRate)return!1;o.config.playbackRate.sort(function(e,t){return t-e});var s=a.createDom("xg-playback"," ",{},"xgplayer-playback");"mobile"===r.device&&(o.config.playbackRateActive="click"),o.controls.appendChild(s);var l=[];function onPlaying(){o.video.playbackRate=o.config.defaultPlaybackRate}o.config.playbackRate.forEach(function(e){l.push({name:""+e,rate:e+"x",selected:!1})});var u=1,t=["<ul>"];l.forEach(function(e){o.config.defaultPlaybackRate&&o.config.defaultPlaybackRate.toString()===e.name?(e.selected=!0,u=o.config.defaultPlaybackRate,a.once(o,"playing",onPlaying)):"1.0"!==e.name&&"1"!==e.name||o.config.defaultPlaybackRate&&1!==o.config.defaultPlaybackRate||(e.selected=!0),t.push("<li cname='"+e.name+"' class='"+(e.selected?"selected":"")+"'>"+e.rate+"</li>")}),t.push("</ul><p class='name'>"+u+"x</p>");var e,n,i=o.root.querySelector(".xgplayer-playback");i?(i.innerHTML=t.join(""),e=i.querySelector(".name"),o.config.playbackRateActive&&"hover"!==o.config.playbackRateActive||e.addEventListener("mouseenter",function(e){e.preventDefault(),e.stopPropagation(),a.addClass(o.root,"xgplayer-playback-active"),i.focus()})):(s.innerHTML=t.join(""),n=s.querySelector(".name"),o.config.playbackRateActive&&"hover"!==o.config.playbackRateActive||n.addEventListener("mouseenter",function(e){e.preventDefault(),e.stopPropagation(),a.addClass(o.root,"xgplayer-playback-active"),s.focus()}));["touchend","click"].forEach(function(e){s.addEventListener(e,function(e){e.stopPropagation(),e.preventDefault();var t,n,i=e.target;i&&"li"===i.tagName.toLocaleLowerCase()?(n=t=void 0,l.forEach(function(e){e.selected=!1,i.textContent.replace(/\s+/g,"")===e.rate&&(Array.prototype.forEach.call(i.parentNode.childNodes,function(e){a.hasClass(e,"selected")&&(t=parseFloat(e.getAttribute("cname")),a.removeClass(e,"selected"))}),e.selected=!0,o.video.playbackRate=+e.name,u=+e.name)}),a.addClass(i,"selected"),n=parseFloat(i.getAttribute("cname")),i.parentNode.nextSibling.innerHTML=i.getAttribute("cname")+"x",o.emit("playbackrateChange",{from:t,to:n}),"mobile"===r.device&&a.removeClass(o.root,"xgplayer-playback-active")):"click"!==o.config.playbackRateActive||!i||"p"!==i.tagName.toLocaleLowerCase()&&"span"!==i.tagName.toLocaleLowerCase()||("mobile"===r.device?a.toggleClass(o.root,"xgplayer-playback-active"):a.addClass(o.root,"xgplayer-playback-active"),s.focus()),o.emit("focus")},!1)}),s.addEventListener("mouseleave",function(e){e.preventDefault(),e.stopPropagation(),a.removeClass(o.root,"xgplayer-playback-active")}),a.on(o,"blur",function onBlur(){a.removeClass(o.root,"xgplayer-playback-active")},"destroy"),a.on(o,"play",function onPlay(){o.video.playbackRate.toFixed(1)!==u.toFixed(1)&&(o.video.playbackRate=u)},"destroy")}},e.exports=t.default},function(e,t,n){var i=n(52);"string"==typeof i&&(i=[[e.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,o);i.locals&&(e.exports=i.locals)},function(e,t,n){(e.exports=n(1)(!1)).push([e.i,".xgplayer-playback{-webkit-order:8;-moz-box-ordinal-group:9;order:8;width:60px;height:20px;z-index:18;position:relative;display:inline-block;margin-left:10px;cursor:default}.xgplayer-playback ul{display:none;list-style:none;width:78px;background:rgba(0,0,0,.54);border-radius:1px;position:absolute;bottom:19px;left:50%;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%);text-align:left;white-space:nowrap;z-index:26;cursor:pointer}.xgplayer-playback ul li{opacity:.7;font-family:PingFangSC-Regular;font-size:11px;color:hsla(0,0%,100%,.8);position:relative;padding:4px 0;text-align:center}.xgplayer-playback ul li.selected,.xgplayer-playback ul li:hover{color:#fff;opacity:1}.xgplayer-playback ul li:first-child{position:relative;margin-top:12px}.xgplayer-playback ul li:last-child{position:relative;margin-bottom:12px}.xgplayer-playback .name{text-align:center;font-family:PingFangSC-Regular;font-size:13px;line-height:20px;height:20px;cursor:pointer;position:relative;top:11px;background:rgba(0,0,0,.38);color:hsla(0,0%,100%,.8);border-radius:10px}.xgplayer-playback span{position:relative;top:19px;font-weight:700;text-shadow:0 0 4px rgba(0,0,0,.6)}.xgplayer-playback:hover{opacity:1}.xgplayer-playback-active .xgplayer-playback ul{display:block}",""])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=_interopRequireDefault(n(0)),p=_interopRequireDefault(n(12));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}n(54);t.default={name:"play",method:function play(){var t=this,e=t.controls,n=d.default.util,i=t.config.iconScale||.0320625,o={play:"M576,363L810,512L576,661zM342,214L576,363L576,661L342,810z",pause:"M598,214h170v596h-170v-596zM256 810v-596h170v596h-170z"},r=t.config.playBtn?t.config.playBtn:{},a=void 0,s=void 0,l=void 0;"img"===r.type?a=d.default.util.createImgBtn("play",r.url.play,r.width,r.height):(a=n.createDom("xg-play",'<xg-icon class="xgplayer-icon"><svg xmlns="http://www.w3.org/2000/svg" width="1024" height="1024" viewBox="0 0 1024 1024">\n              <path transform="scale('+i+" "+i+')" d="'+o.play+'"></path>\n          </svg></xg-icon>',{},"xgplayer-play"),s=a.querySelector("path"),l=new p.default({progress:function progress(e){s.setAttribute("d",l.toSVGString(e))},from:o.pause,to:o.play,duration:50}));var u=t.config.lang&&"zh-cn"===t.config.lang?"播放":"Play",c=t.config.lang&&"zh-cn"===t.config.lang?"暂停":"Pause",f=n.createDom("xg-tips",u,{},"xgplayer-tips");a.appendChild(f);e.appendChild(a),["click","touchstart"].forEach(function(e){a.addEventListener(e,function(e){e.preventDefault(),e.stopPropagation(),t.ended?t.config.enableEndedPlay&&t.replay():(n.removeClass(t.root,"xgplayer-nostart"),t.paused?(t.play(),t.emit("playBtnClick","play")):(t.pause(),t.emit("playBtnClick","pause")))},!1)}),n.on(t,"play",function playFunc(){"img"===r.type?a.style.backgroundImage='url("'+r.url.pause+'")':setTimeout(function(){f.textContent=c,l.to!==o.pause&&l.reset(o.pause,o.play)},80)},"destroy"),n.on(t,"pause",function pauseFunc(){"img"===r.type?a.style.backgroundImage='url("'+r.url.play+'")':setTimeout(function(){f.textContent=u,l.to!==o.play&&l.reset(o.play,o.pause)},80)},"destroy")}},e.exports=t.default},function(e,t,n){var i=n(55);"string"==typeof i&&(i=[[e.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,o);i.locals&&(e.exports=i.locals)},function(e,t,n){(e.exports=n(1)(!1)).push([e.i,".xgplayer-play,.xgplayer-play-img{position:relative;-webkit-order:0;-moz-box-ordinal-group:1;order:0;display:block;cursor:pointer}.xgplayer-play-img .xgplayer-icon,.xgplayer-play .xgplayer-icon{margin-top:3px}.xgplayer-play-img:hover,.xgplayer-play:hover{opacity:.85}.xgplayer-play-img:hover .xgplayer-tips,.xgplayer-play:hover .xgplayer-tips{display:block}",""])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var h=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(n(0));t.default={name:"pc",method:function pc(){var t=this,i=h.default.util,o=t.controls,n=t.root,r=0,a=void 0,s=t.config.centerBtn?t.config.centerBtn:{},l=void 0,u=void 0,c=void 0;"img"===s.type?u=h.default.util.createImgBtn("start",s.url.play,s.width,s.height):(l={pause:s.pausePath?s.pausePath:"M576,363L810,512L576,661zM342,214L576,363L576,661L342,810z",play:s.playPath?s.playPath:"M598,214h170v596h-170v-596zM256 810v-596h170v596h-170z"},u=i.createDom("xg-start",'\n          <svg xmlns="http://www.w3.org/2000/svg" width="1024" height="1024" viewBox="0 0 1024 1024">\n              <path transform="scale(0.04,0.04)" d="'+l.pause+'"></path>\n          </svg>',{},"xgplayer-start"),c=u.querySelector("path"));var e=i.createDom("xg-enter",'<xg-enter-logo class="xgplayer-enter-logo"></xg-enter-logo><xg-enter-tips class="xgplayer-enter-tips"></xg-player-tips>',{},"xgplayer-enter"),f=e.querySelector(".xgplayer-enter-logo");n.appendChild(u),n.appendChild(e);var d=e.querySelector(".xgplayer-enter-tips"),p=new Image;function onCanPlay(){t.off("canplay",onCanPlay);var e=t.play();void 0!==e&&e&&e.catch(function(e){})}function startAniEnd(e){e.preventDefault(),i.removeClass(u,"xgplayer-start-interact"),i.removeClass(n,"xgplayer-nostart"),i.removeClass(n,"xgplayer-start-appear")}function mouseenterFunc(){clearTimeout(t.leavePlayerTimer),t.emit("focus",t)}function mouseleaveFunc(){t.config.closePlayerBlur||(t.leavePlayerTimer=setTimeout(function(){t.emit("blur",t)},t.config.leavePlayerTime||0))}d.style.display="block",t.config.enterLogo&&t.config.enterLogo.url&&t.config.enterLogo.width&&t.config.enterLogo.height?(p.src=t.config.enterLogo.url,f.style.backgroundImage='url("'+t.config.enterLogo.url+'")',f.style.width=t.config.enterLogo.width+"px",f.style.height=t.config.enterLogo.height+"px",f.style.backgroundSize=t.config.enterLogo.width+"px "+t.config.enterLogo.height+"px",f.style.margin="-"+t.config.enterLogo.height/2+"px auto auto -"+t.config.enterLogo.width/2+"px",d.style.margin=t.config.enterLogo.height-6+"px auto auto -62px"):0<=navigator.userAgent.indexOf("Edge")&&(p.src="//p3-xg.byteimg.com/obj/tos-cn-i-xg/5f979708e7fd4465ad6fe9a952a468f7"),t.config.enterTips&&t.config.enterTips.background&&(d.style.background=""+t.config.enterTips.background),t.config.enterBg&&(t.config.enterBg.url?e.style.backgroundImage='url("'+t.config.enterBg.url+'")':t.config.enterBg.color&&(e.style.background=t.config.enterBg.color)),["click","touchend"].forEach(function(e){u.addEventListener(e,function(e){!function startClc(e){e.preventDefault(),e.stopPropagation(),i.hasClass(n,"xgplayer-nostart")?(i.removeClass(n,"xgplayer-nostart"),i.addClass(n,"xgplayer-is-enter"),"function"==typeof n.contains?t.video&&1===t.video.nodeType&&!n.contains(t.video)||t.video&&1!==t.video.nodeType&&void 0===t.video.mediaSource?(t.once("canplay",onCanPlay),t.start()):onCanPlay():t.video&&1===t.video.nodeType&&!n.querySelector(this.videoConfig.mediaType)||t.video&&1!==t.video.nodeType&&void 0===t.video.mediaSource?(t.once("canplay",onCanPlay),t.start()):onCanPlay()):t.paused&&(i.removeClass(n,"xgplayer-nostart xgplayer-isloading"),setTimeout(function(){var e=t.play();void 0!==e&&e&&e.catch(function(e){})},10))}(e)},!1)}),u.addEventListener("animationend",function(e){startAniEnd(e)}),u.addEventListener("webkitAnimationEnd",function(e){startAniEnd(e)}),i.on(t,"playBtnClick",function onPlayBtnClick(e){"pause"===e?("img"===s.type?u.style.backgroundImage='url("'+s.url.play+'")':c.setAttribute("d",l.play),i.addClass(n,"xgplayer-start-appear"),i.addClass(u,"xgplayer-start-interact")):"play"===e&&("img"===s.type?u.style.backgroundImage='url("'+s.url.pause+'")':c.setAttribute("d",l.pause),i.addClass(n,"xgplayer-start-appear"),i.addClass(u,"xgplayer-start-interact"))},"destroy"),i.once(t,"autoplay was prevented",function(){setTimeout(function(){c.setAttribute("d",l.pause),h.default.util.addClass(t.root,"xgplayer-nostart")},500)}),t.onElementClick=function(e,t){e.preventDefault(),e.stopPropagation();var n=this;n.config.closeVideoClick||(r++,a&&clearTimeout(a),1===r?a=setTimeout(function(){return!i.hasClass(n.root,"xgplayer-nostart")&&(n.ended||(n.paused?n.play():n.pause()),void(r=0))},200):r=0)},t.video.addEventListener("click",function(e){t.onElementClick(e,t.video)},!1),t.onElementDblclick=function(e,t){e.preventDefault(),e.stopPropagation();var n,i;this.config.closeVideoDblclick||(n=o.querySelector(".xgplayer-fullscreen"))&&(i=void 0,document.createEvent?(i=document.createEvent("Event")).initEvent("click",!0,!0):i=new Event("click"),n.dispatchEvent(i))},t.video.addEventListener("dblclick",function(e){t.onElementDblclick(e,t.video)},!1),n.addEventListener("mouseenter",mouseenterFunc,!1),n.addEventListener("mouseleave",mouseleaveFunc),o.addEventListener("mouseenter",function cmouseenterFunc(e){t.userTimer&&clearTimeout(t.userTimer)}),o.addEventListener("mouseleave",function cmouseleaveFunc(e){t.config.closeControlsBlur||t.emit("focus",t)}),i.once(t,"ready",function readyFunc(e){t.config.autoplay&&t.start()}),i.once(t,"destroy",function destroyFunc(){n.removeEventListener("mouseenter",mouseenterFunc),n.removeEventListener("mouseleave",mouseleaveFunc)})}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p=_interopRequireDefault(n(0)),h=_interopRequireDefault(n(12));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}n(58);t.default={name:"mobile",method:function mobile(){var t=this,n=p.default.util,i=t.root,e=function whitelistPass(e){var t=p.default.util;return e.some(function(e){return"Function"===t.typeOf(e)?e.call(void 0,navigator.userAgent):"RegExp"===t.typeOf(e)?e.test(navigator.userAgent):"String"===t.typeOf(e)&&-1<navigator.userAgent.indexOf(e)})}(t.config.whitelist);t.mobilePass=e;var o=t.config.centerBtn?t.config.centerBtn:{},r=void 0,a=void 0,s=void 0,l=void 0;"img"===o.type?a=p.default.util.createImgBtn("start",o.url.play,o.width,o.height):(r={pause:o.pausePath?o.pausePath:"M576,363L810,512L576,661zM342,214L576,363L576,661L342,810z",play:o.playPath?o.playPath:"M598,214h170v596h-170v-596zM256 810v-596h170v596h-170z"},a=n.createDom("xg-start",'\n          <svg xmlns="http://www.w3.org/2000/svg" width="1024" height="1024" viewBox="0 0 1024 1024">\n              <path transform="scale(0.04,0.04)" d="'+r.pause+'"></path>\n          </svg>',{},"xgplayer-start"),s=a.querySelector("path"),l=new h.default({from:r.play,to:r.pause,progress:function progress(e){s.setAttribute("d",l.toSVGString(e))}}));var u=n.createDom("xg-enter",'<xg-enter-logo class="xgplayer-enter-logo"></xg-enter-logo><xg-enter-tips class="xgplayer-enter-tips"></xg-player-tips>',{},"xgplayer-enter"),c=u.querySelector(".xgplayer-enter-logo");i.appendChild(a),i.appendChild(u);var f=u.querySelector(".xgplayer-enter-tips"),d=new Image;d.onload=function(){f.style.display="block"},t.config.enterLogo&&t.config.enterLogo.url&&t.config.enterLogo.width&&t.config.enterLogo.height&&(d.src=t.config.enterLogo.url,c.style.backgroundImage='url("'+t.config.enterLogo.url+'")',c.style.width=t.config.enterLogo.width+"px",c.style.height=t.config.enterLogo.height+"px",c.style.backgroundSize=t.config.enterLogo.width+"px "+t.config.enterLogo.height+"px",c.style.margin="-"+t.config.enterLogo.height/2+"px auto auto -"+t.config.enterLogo.width/2+"px",f.style.margin=t.config.enterLogo.height-6+"px auto auto -62px"),t.config.enterTips&&t.config.enterTips.background&&(f.style.background=""+t.config.enterTips.background),t.config.enterBg&&(t.config.enterBg.url?u.style.backgroundImage='url("'+t.config.enterBg.url+'")':t.config.enterBg.color&&(u.style.background=t.config.enterBg.color)),t.config.autoplay&&t.start(),e?(t.video.addEventListener("touchend",function(e){e.preventDefault(),n.hasClass(i,"xgplayer-inactive")?t.emit("focus"):t.emit("blur"),t.config.closeVideoTouch||t.isTouchMove||t.ended||(t.paused?t.play():t.pause())}),t.video.addEventListener("touchstart",function(){t.isTouchMove=!1}),t.video.addEventListener("touchmove",function(){t.isTouchMove=!0}),a.addEventListener("touchend",function(e){e.preventDefault(),n.hasClass(i,"xgplayer-nostart")?(n.removeClass(i,"xgplayer-nostart"),n.addClass(i,"xgplayer-is-enter"),n.on(t,"canplay",function(){t.play(),n.removeClass(i,"xgplayer-is-enter")},"destroy"),n.once(t,"playing",function(){n.removeClass(i,"xgplayer-is-enter")}),t.root.querySelector("video")?t.play():t.start()):t.paused?t.play():t.pause()}),n.on(t,"play",function(){"img"===o.type?a.style.backgroundImage='url("'+o.url.pause+'")':l.reset(r.play,r.pause)},"destroy"),n.on(t,"pause",function(){"img"===o.type?a.style.backgroundImage='url("'+o.url.play+'")':l.reset(r.pause,r.play)},"destroy")):(n.addClass(i,"xgplayer-mobile-npassed"),n.once(t,"ready",function(){t.video.controls=t.config.controls,t.video.controlsList=t.config.controlsList.join(" "),t.config.poster&&(t.video.poster=t.config.poster)})),t.config.debug&&function debug(e){var t={};Object.assign(t,{host:"127.0.0.1",port:9090},e);var n=document.createElement("script"),i=document.createElement("h4");i.style.cssText="position:fixed;bottom:0;padding:10px;width:100%;background-color:#fff;text-align:center",i.textContent="weinre --boundHost "+t.host+" --httpPort "+t.port+"\r\n 启动服务后，刷新页面",n.anonymous=!0,n.async=!0,n.src="http://"+t.host+":"+t.port+"/target/target-script-min.js#anonymous",n.onload=function(){i.parentNode.removeChild(i)},document.body.appendChild(n),document.body.appendChild(i)}(t.config.debug)}},e.exports=t.default},function(e,t,n){var i=n(59);"string"==typeof i&&(i=[[e.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,o);i.locals&&(e.exports=i.locals)},function(e,t,n){(e.exports=n(1)(!1)).push([e.i,".xgplayer-mobile .xgplayer-progress-btn{display:block}.xgplayer-mobile .xgplayer-progress:focus .xgplayer-progress-outer,.xgplayer-mobile .xgplayer-progress:hover .xgplayer-progress-outer{height:3px;margin-top:8.5px}.xgplayer-mobile .xgplayer-progress:focus .xgplayer-progress-dot,.xgplayer-mobile .xgplayer-progress:hover .xgplayer-progress-dot{height:3px}.xgplayer-mobile.xgplayer-ended .xgplayer-start,.xgplayer-mobile.xgplayer-ended .xgplayer-start-img,.xgplayer-mobile.xgplayer-inactive .xgplayer-start,.xgplayer-mobile.xgplayer-inactive .xgplayer-start-img{display:none}.xgplayer-mobile .xgplayer-start{width:60px;height:60px;line-height:60px;display:none;margin:-50px auto auto -30px}.xgplayer-mobile .xgplayer-start svg{margin:10px}.xgplayer-mobile .xgplayer-start-img{display:none}.xgplayer-mobile .xgplayer-tips{display:none!important}.xgplayer-mobile.xgplayer-nostart .xgplayer-start{margin:-30px auto auto -30px;display:block}.xgplayer-mobile.xgplayer-nostart .xgplayer-start-img{display:block}.xgplayer-mobile .xgplayer-loading{-webkit-transform:scale(.5);-ms-transform:scale(.5);transform:scale(.5)}.xgplayer-mobile.xgplayer-mobile-npassed .xgplayer-controls,.xgplayer-mobile.xgplayer-mobile-npassed .xgplayer-poster,.xgplayer-mobile.xgplayer-mobile-npassed .xgplayer-start,.xgplayer-mobile.xgplayer-mobile-npassed .xgplayer-start-img{display:none}",""])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(n(0));t.default={name:"localPreview",method:function localPreview(){var t=this,n=o.default.util,e=n.createDom("xg-preview",'<input type="file">',{},"xgplayer-preview"),i=e.querySelector("input");t.config.preview&&t.config.preview.uploadEl&&(t.config.preview.uploadEl.appendChild(e),i.onchange=function(){t.uploadFile=i.files[0];var e=URL.createObjectURL(t.uploadFile);n.hasClass(t.root,"xgplayer-nostart")?(t.config.url=e,t.start()):(t.src=e,t.play())})}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(n(0));n(62);t.default={name:"loading",method:function loading(){var e=i.default.util.createDom("xg-loading",'\n    <svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewbox="0 0 100 100">\n      <path d="M100,50A50,50,0,1,1,50,0"></path>\n    </svg>\n    ',{},"xgplayer-loading");this.root.appendChild(e)}},e.exports=t.default},function(e,t,n){var i=n(63);"string"==typeof i&&(i=[[e.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,o);i.locals&&(e.exports=i.locals)},function(e,t,n){(e.exports=n(1)(!1)).push([e.i,".xgplayer-loading{display:none;width:100px;height:100px;overflow:hidden;-webkit-transform:scale(.7);-ms-transform:scale(.7);transform:scale(.7);position:absolute;left:50%;top:50%;margin:-70px auto auto -50px}.xgplayer-loading svg{border-radius:50%;-webkit-transform-origin:center;-ms-transform-origin:center;transform-origin:center;-webkit-animation:loadingRotate 1s linear infinite;animation:loadingRotate 1s linear infinite}.xgplayer-loading svg path{stroke:#ddd;stroke-dasharray:236;-webkit-animation:loadingDashOffset 2s linear infinite;animation:loadingDashOffset 2s linear infinite;animation-direction:alternate-reverse;fill:none;stroke-width:12px}.xgplayer-nostart .xgplayer-loading{display:none}.xgplayer-isloading .xgplayer-loading{display:block}",""])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var o=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(n(0)).default.util,r=function(){function Keyboard(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Keyboard),this.player=e,this.state={playbackRate:0,isRepeat:!1,keyCode:0,repeat:0,isBody:!1},this.timer=null,this.initEvents()}return i(Keyboard,[{key:"initEvents",value:function initEvents(){var e=this,t=this.player,n=t.root,i=t.config;this.player.onBodyKeydown=this.onBodyKeydown.bind(this),this.player.onKeydown=this.onKeydown.bind(this),this.player.onKeyup=this.onKeyup.bind(this),i.keyShortcut&&"on"!==i.keyShortcut||(document.addEventListener("keydown",this.player.onBodyKeydown),n.addEventListener("keydown",this.player.onKeydown),o.on(this.player,"destroy",function destroyFunc(){document.removeEventListener("keydown",e.player.onBodyKeydown),n.removeEventListener("keydown",e.player.onKeydown),clearTimeout(e.timer),e.timer=null}))}},{key:"checkTarget",value:function checkTarget(e){var t=this.player;return e.target===t.root||e.target===t.video||e.target===t.controls}},{key:"onBodyKeydown",value:function onBodyKeydown(e){var t=e||window.event,n=t.keyCode;if(t.target===document.body&&(37===n||39===n||32===n))return t.preventDefault(),t.cancelBubble=!0,t.returnValue=!1,t.repeat||document.addEventListener("keyup",this.player.onKeyup),this.handler(t),!1}},{key:"onKeydown",value:function onKeydown(e){var t=e||window.event,n=t.keyCode;if(this.checkTarget(t)&&(37===n||38===n||39===n||40===n||32===n))return t.preventDefault(),t.cancelBubble=!0,t.returnValue=!1,this.player.emit("focus"),t.repeat||this.player.root.addEventListener("keyup",this.player.onKeyup),this.handler(t),!1}},{key:"onKeyup",value:function onKeyup(){var e=this.state,t=this.player;document.removeEventListener("keyup",this.player.onKeyup),t.root.removeEventListener("keyup",this.player.onKeyup),e.keyCode&&(0!==e.playbackRate&&(t.playbackRate=e.playbackRate),e.isRepeat||this.handlerKeyCode(e.keyCode,!1),e.playbackRate=0,e.isRepeat=!1,e.keyCode=0,e.repeat=0,this.changeVolumeSlide())}},{key:"handler",value:function handler(e){var t=this.state,n=this.player;t.keyCode=e.keyCode,t.isRepeat=e.repeat,e.repeat&&(t.repeat%2!=0||n.config.disableLongPress||this.handlerKeyCode(t.keyCode,!0),t.repeat++)}},{key:"handlerKeyCode",value:function handlerKeyCode(e,t){var n=this.player,i=this.state;if(!n.config.keyShortcut||"on"===n.config.keyShortcut)switch(e){case 39:t?0===i.repeat&&this.changeRate():this.seek(!1,t);break;case 37:this.seek(!0,t);break;case 38:this.changeVolume(!0);break;case 40:this.changeVolume(!1);break;case 32:t||(n.ended?n.replay(n.config.startTimeCache||0):n.paused?n.play():n.pause())}}},{key:"seek",value:function seek(e,t){var n=this.player;n.isLoading||n.isSeeking||t&&0<this.state.repeat%8||(e?0<=n.currentTime-10?n.seek(n.currentTime-10):n.seek(0):n.currentTime+10<=n.duration?n.seek(n.currentTime+10):n.seek(n.duration-1))}},{key:"changeRate",value:function changeRate(){this.state.playbackRate=this.player.playbackRate,this.player.playbackRate=this.player.config.keyboardRate||5}},{key:"changeVolumeSlide",value:function changeVolumeSlide(e){var t=this.player;t.controls&&(e?(t.emit("focus"),o.hasClass(t.root,"xgplayer-volume-active")||o.addClass(t.root,"xgplayer-volume-active")):(clearTimeout(this.timer),this.timer=setTimeout(function(){o.removeClass(t.root,"xgplayer-volume-active")},1e3)))}},{key:"changeVolume",value:function changeVolume(e){var t=this.player;this.changeVolumeSlide(!0);var n=t.volume;t.volume=e?n+.1<=1?n+.1:1:0<=n-.1?n-.1:0}}]),Keyboard}();t.default={name:"keyboard",method:function keyboard(){this.keyboard=new r(this)}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function _interopRequireDefault(e){e&&e.__esModule}(n(0));t.default={name:"i18n",method:function i18n(){var e=this,n={},i=e.constructor.util;n.en={HAVE_NOTHING:"There is no information on whether audio/video is ready",HAVE_METADATA:"audio/video metadata is ready ",HAVE_CURRENT_DATA:"Data about the current play location is available, but there is not enough data to play the next frame/millisecond",HAVE_FUTURE_DATA:"Current and at least one frame of data is available",HAVE_ENOUGH_DATA:"The available data is sufficient to start playing",NETWORK_EMPTY:"Audio/video has not been initialized",NETWORK_IDLE:"Audio/video is active and has been selected for resources, but no network is used",NETWORK_LOADING:"The browser is downloading the data",NETWORK_NO_SOURCE:"No audio/video source was found",MEDIA_ERR_ABORTED:"The fetch process is aborted by the user",MEDIA_ERR_NETWORK:"An error occurred while downloading",MEDIA_ERR_DECODE:"An error occurred while decoding",MEDIA_ERR_SRC_NOT_SUPPORTED:"Audio/video is not supported",REPLAY:"Replay",ERROR:"network is offline"},n["zh-cn"]={HAVE_NOTHING:"没有关于音频/视频是否就绪的信息",HAVE_METADATA:"音频/视频的元数据已就绪",HAVE_CURRENT_DATA:"关于当前播放位置的数据是可用的，但没有足够的数据来播放下一帧/毫秒",HAVE_FUTURE_DATA:"当前及至少下一帧的数据是可用的",HAVE_ENOUGH_DATA:"可用数据足以开始播放",NETWORK_EMPTY:"音频/视频尚未初始化",NETWORK_IDLE:"音频/视频是活动的且已选取资源，但并未使用网络",NETWORK_LOADING:"浏览器正在下载数据",NETWORK_NO_SOURCE:"未找到音频/视频来源",MEDIA_ERR_ABORTED:"取回过程被用户中止",MEDIA_ERR_NETWORK:"当下载时发生错误",MEDIA_ERR_DECODE:"当解码时发生错误",MEDIA_ERR_SRC_NOT_SUPPORTED:"不支持的音频/视频格式",REPLAY:"重播",ERROR:"网络连接似乎出现了问题"},Object.defineProperty(e,"lang",{get:function get(){return n[e.config.lang]||n.en},set:function set(t){"Object"===i.typeOf(t)&&Object.keys(t).forEach(function(e){n[e]=t[e]})},configurable:!0})}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(n(0));n(67);t.default={name:"fullscreen",method:function fullscreen(){var r=this,a=i.default.util,s={active:"M682 342h128v84h-212v-212h84v128zM598 810v-212h212v84h-128v128h-84zM342 342v-128h84v212h-212v-84h128zM214 682v-84h212v212h-84v-128h-128z",default:"M598 214h212v212h-84v-128h-128v-84zM726 726v-128h84v212h-212v-84h128zM214 426v-212h212v84h-128v128h-84zM298 598v128h128v84h-212v-212h84z"},t=a.createDom("xg-fullscreen",'<xg-icon class="xgplayer-icon"><svg xmlns="http://www.w3.org/2000/svg" width="1024" height="1024" viewBox="0 0 1024 1024">\n            <path transform="scale(0.03 0.03)" d="'+s.default+'"></path>\n        </svg></xg-icon>',{},"xgplayer-fullscreen"),l=r.config.lang&&"zh-cn"===r.config.lang?"全屏":"Full screen",u=r.config.lang&&"zh-cn"===r.config.lang?"退出全屏":"Exit full screen",e=r.controls,c=r.root,f=a.createDom("xg-tips",l,{},"xgplayer-tips"),d=t.querySelector("path");function handle(e){var t,n,i,o=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;o&&o===c?(a.addClass(c,"xgplayer-is-fullscreen"),d.setAttribute("d",s.active),f.textContent=u,r.emit("requestFullscreen")):(a.removeClass(c,"xgplayer-is-fullscreen"),d.setAttribute("d",s.default),f.textContent=l,r.emit("exitFullscreen")),document.fullscreenElement||document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement||((t=a.findDom(r.controls,"xg-cssfullscreen"))&&(n=a.findDom(t,"xg-tips"),i=t.querySelector("path"),t.style.display="block",n.textContent=r.config.lang&&"zh-cn"===r.config.lang?"样式全屏":"Full screen",i.setAttribute("d","M843.617212 67.898413 175.411567 67.898413c-61.502749 0-111.367437 49.856501-111.367437 111.367437l0 668.205645c0 61.510936 49.864688 111.367437 111.367437 111.367437L843.617212 958.838931c61.510936 0 111.367437-49.856501 111.367437-111.367437L954.984648 179.26585C954.984648 117.754914 905.12917 67.898413 843.617212 67.898413zM398.146441 736.104057c15.380292 0 27.842115 12.461823 27.842115 27.842115 0 15.379269-12.461823 27.841092-27.842115 27.841092L259.725858 791.787264c-7.785314 0-14.781658-3.217275-19.838837-8.365528-5.383614-4.577249-8.791224-11.228739-8.791224-19.475564L231.095797 624.736621c0-15.371082 12.471033-27.842115 27.842115-27.842115 15.380292 0 27.842115 12.471033 27.842115 27.842115l-0.61603 71.426773 133.036969-133.037992 39.378869 39.378869L324.962651 736.113267 398.146441 736.104057zM419.199942 463.611943 286.162974 330.565764l0.61603 71.435982c0 15.380292-12.461823 27.842115-27.842115 27.842115-15.371082 0-27.842115-12.461823-27.842115-27.842115L231.094774 262.791172c0-8.256034 3.40761-14.908548 8.791224-19.476587 5.057179-5.148253 12.053524-8.374738 19.838837-8.374738l138.420583 0.00921c15.380292 0 27.842115 12.461823 27.842115 27.842115s-12.461823 27.842115-27.842115 27.842115l-73.175603-0.00921 133.607974 133.607974L419.199942 463.611943zM787.932981 763.946172c0 8.247848-3.40761 14.899338-8.791224 19.475564-5.057179 5.148253-12.053524 8.365528-19.839861 8.365528L620.881314 791.787264c-15.379269 0-27.841092-12.461823-27.841092-27.841092 0-15.380292 12.461823-27.842115 27.841092-27.842115l73.185836 0.00921L560.449967 602.50427l39.378869-39.378869L732.875015 696.163393l-0.62524-71.426773c0-15.371082 12.462846-27.842115 27.842115-27.842115 15.380292 0 27.842115 12.471033 27.842115 27.842115L787.934005 763.946172zM787.932981 402.000724c0 15.380292-12.461823 27.842115-27.842115 27.842115-15.379269 0-27.842115-12.461823-27.842115-27.842115l0.62524-71.435982L599.828836 463.611943l-39.378869-39.378869 133.617184-133.607974-73.185836 0.00921c-15.379269 0-27.841092-12.461823-27.841092-27.842115s12.461823-27.842115 27.841092-27.842115l138.421606-0.00921c7.785314 0 14.781658 3.226484 19.839861 8.374738 5.383614 4.568039 8.791224 11.219529 8.791224 19.476587L787.934005 402.000724z")),a.removeClass(c,"xgplayer-cssfullscreen-active"),d.setAttribute("d",s.default),f.textContent=l,a.removeClass(c,"xgplayer-fullscreen-active"))}t.appendChild(f),e.appendChild(t),["click","touchend"].forEach(function(e){t.addEventListener(e,function(e){e.preventDefault(),e.stopPropagation(),r.config.rotateFullscreen?(a.hasClass(c,"xgplayer-rotate-fullscreen")?function exitRotateFullscreen(){d.setAttribute("d",s.default),f.textContent=l,document.documentElement.style.width="unset",document.documentElement.style.height="unset",c&&a.hasClass(c,"xgplayer-rotate-fullscreen")&&a.removeClass(c,"xgplayer-rotate-fullscreen"),r.emit("exitRotateFullscreen")}:function getRotateFullscreen(){d.setAttribute("d",s.active),f.textContent=u,document.documentElement.style.width="100%",document.documentElement.style.height="100%",c&&!a.hasClass(c,"xgplayer-rotate-fullscreen")&&a.addClass(c,"xgplayer-rotate-fullscreen"),r.emit("getRotateFullscreen")})():(a.hasClass(c,"xgplayer-fullscreen-active")||a.hasClass(c,"xgplayer-is-fullscreen")?function exitFullscreen(e){var t,n,i=a.findDom(r.controls,"xg-cssfullscreen");i&&(t=a.findDom(i,"xg-tips"),n=i.querySelector("path"),i.style.display="block",t.textContent=r.config.lang&&"zh-cn"===r.config.lang?"样式全屏":"Full screen",n.setAttribute("d","M843.617212 67.898413 175.411567 67.898413c-61.502749 0-111.367437 49.856501-111.367437 111.367437l0 668.205645c0 61.510936 49.864688 111.367437 111.367437 111.367437L843.617212 958.838931c61.510936 0 111.367437-49.856501 111.367437-111.367437L954.984648 179.26585C954.984648 117.754914 905.12917 67.898413 843.617212 67.898413zM398.146441 736.104057c15.380292 0 27.842115 12.461823 27.842115 27.842115 0 15.379269-12.461823 27.841092-27.842115 27.841092L259.725858 791.787264c-7.785314 0-14.781658-3.217275-19.838837-8.365528-5.383614-4.577249-8.791224-11.228739-8.791224-19.475564L231.095797 624.736621c0-15.371082 12.471033-27.842115 27.842115-27.842115 15.380292 0 27.842115 12.471033 27.842115 27.842115l-0.61603 71.426773 133.036969-133.037992 39.378869 39.378869L324.962651 736.113267 398.146441 736.104057zM419.199942 463.611943 286.162974 330.565764l0.61603 71.435982c0 15.380292-12.461823 27.842115-27.842115 27.842115-15.371082 0-27.842115-12.461823-27.842115-27.842115L231.094774 262.791172c0-8.256034 3.40761-14.908548 8.791224-19.476587 5.057179-5.148253 12.053524-8.374738 19.838837-8.374738l138.420583 0.00921c15.380292 0 27.842115 12.461823 27.842115 27.842115s-12.461823 27.842115-27.842115 27.842115l-73.175603-0.00921 133.607974 133.607974L419.199942 463.611943zM787.932981 763.946172c0 8.247848-3.40761 14.899338-8.791224 19.475564-5.057179 5.148253-12.053524 8.365528-19.839861 8.365528L620.881314 791.787264c-15.379269 0-27.841092-12.461823-27.841092-27.841092 0-15.380292 12.461823-27.842115 27.841092-27.842115l73.185836 0.00921L560.449967 602.50427l39.378869-39.378869L732.875015 696.163393l-0.62524-71.426773c0-15.371082 12.462846-27.842115 27.842115-27.842115 15.380292 0 27.842115 12.471033 27.842115 27.842115L787.934005 763.946172zM787.932981 402.000724c0 15.380292-12.461823 27.842115-27.842115 27.842115-15.379269 0-27.842115-12.461823-27.842115-27.842115l0.62524-71.435982L599.828836 463.611943l-39.378869-39.378869 133.617184-133.607974-73.185836 0.00921c-15.379269 0-27.841092-12.461823-27.841092-27.842115s12.461823-27.842115 27.841092-27.842115l138.421606-0.00921c7.785314 0 14.781658 3.226484 19.839861 8.374738 5.383614 4.568039 8.791224 11.219529 8.791224 19.476587L787.934005 402.000724z")),a.removeClass(e,"xgplayer-cssfullscreen-active"),d.setAttribute("d",s.default),f.textContent=l,document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen?document.msExitFullscreen():a.removeClass(e,"xgplayer-fullscreen-active")}:function getFullscreen(e){var t=a.findDom(r.controls,"xg-cssfullscreen");t&&(t.style.display="none"),d.setAttribute("d",s.active),f.textContent=u,e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):r.video.webkitSupportsFullscreen?r.video.webkitEnterFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():a.addClass(e,"xgplayer-fullscreen-active")})(c)})}),r.video.addEventListener("webkitendfullscreen",function(){r.emit("exitFullscreen"),d.setAttribute("d",s.default)}),t.addEventListener("mouseenter",function(e){e.preventDefault(),e.stopPropagation(),f.style.left="50%";var t=f.getBoundingClientRect(),n=c.getBoundingClientRect();t.right>n.right&&(f.style.left=-t.right+n.right+16+"px")}),["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"].forEach(function(e){document.addEventListener(e,handle)}),a.once(r,"destroy",function destroyFunc(){["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"].forEach(function(e){document.removeEventListener(e,handle)})})}},e.exports=t.default},function(e,t,n){var i=n(68);"string"==typeof i&&(i=[[e.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,o);i.locals&&(e.exports=i.locals)},function(e,t,n){(e.exports=n(1)(!1)).push([e.i,".xgplayer-fullscreen{-webkit-order:12;-moz-box-ordinal-group:13;order:12;position:relative;display:inline-block;cursor:pointer}.xgplayer-fullscreen .xgplayer-icon{margin:4px -4px 0 0}.xgplayer-fullscreen:hover .xgplayer-tips{display:block}.xgplayer.xgplayer-fullscreen-active{position:fixed!important;left:0!important;top:0!important;width:100%!important;height:100%!important;z-index:99999!important}",""])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(n(0));t.default={name:"__flex__",method:function flex(){var e=i.default.util.createDom("xg-placeholder","",{},"xgplayer-placeholder");this.controls.appendChild(e)}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=_interopRequireDefault(n(0)),c=_interopRequireDefault(n(71)),f=_interopRequireDefault(n(4));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}n(73);t.default={name:"danmu",method:function danmu(){var a,s,l=this;l.config.danmu&&(a=u.default.util.createDom("xg-bullet","",{},"xgplayer-bullet"),l.root.appendChild(a),a.style.height="100%",s=u.default.util.deepCopy({container:a,player:l.video,comments:[],area:{start:0,end:1}},l.config.danmu),f.default.once(l,"complete",function onComplete(){var e,t,n,i,o,r=new c.default(s);u.default.util.addClass(a,"xgplayer-has-bullet"),l.config.danmu.closeDefaultBtn||(l.bulletBtn=u.default.util.copyDom(r.bulletBtn.createSwitch(!0)),l.controls.appendChild(l.bulletBtn),["click","touchend"].forEach(function(e){l.bulletBtn.addEventListener(e,function(e){e.preventDefault(),e.stopPropagation(),u.default.util.toggleClass(l.bulletBtn,"danmu-switch-active"),u.default.util.hasClass(l.bulletBtn,"danmu-switch-active")?(u.default.util.addClass(a,"xgplayer-has-bullet"),f.default.once(l,"timeupdate",function(){r.start()})):(u.default.util.removeClass(a,"xgplayer-has-bullet"),r.stop())},!1)}),l.onElementClick&&a.addEventListener("click",function(e){l.onElementClick(e,a)},!1),l.onElementDblclick&&a.addEventListener("dblclick",function(e){l.onElementDblclick(e,a)},!1),e=function onWaiting(){u.default.util.hasClass(l.bulletBtn,"danmu-switch-active")&&r.pause()},f.default.on(l,"waiting",e,"destroy"),t=function onPause(){u.default.util.hasClass(l.bulletBtn,"danmu-switch-active")&&r.pause()},f.default.on(l,"pause",t,"destroy"),n=function onPlay(){u.default.util.hasClass(l.bulletBtn,"danmu-switch-active")&&r.play()},f.default.on(l,"play",n,"destroy"),i=function onPlaying(){u.default.util.hasClass(l.bulletBtn,"danmu-switch-active")&&r.play()},f.default.on(l,"playing",i,"destroy"),o=function onSeeked(){u.default.util.hasClass(l.bulletBtn,"danmu-switch-active")&&(r.stop(),r.start())},f.default.on(l,"seeked",o,"destroy"),f.default.once(r,"destroy",function(){l.off("waiting",e),l.off("pause",t),l.off("play",n),l.off("playing",i),l.off("seeked",o)})),l.danmu=r,l.emit("initDefaultDanmu",r)}))}},e.exports=t.default},function(e,w,t){"use strict";(function(o){var u,c,x,C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){"object"==C(w)&&"object"==C(o)?o.exports=e():(c=[],void 0===(x="function"==typeof(u=e)?u.apply(w,c):u)||(o.exports=x))}((window,function(){return function(i){var o={};function n(e){if(o[e])return o[e].exports;var t=o[e]={i:e,l:!1,exports:{}};return i[e].call(t.exports,t,t.exports,n),t.l=!0,t.exports}return n.m=i,n.c=o,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==(void 0===t?"undefined":C(t))&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r={createDom:function createDom(e,t,n,i){var o=0<arguments.length&&void 0!==e?e:"div",r=1<arguments.length&&void 0!==t?t:"",a=2<arguments.length&&void 0!==n?n:{},s=3<arguments.length&&void 0!==i?i:"",l=document.createElement(o);return l.className=s,l.innerHTML=r,Object.keys(a).forEach(function(e){var t=e,n=a[e];("video"!==o&&"audio"!==o||n)&&l.setAttribute(t,n)}),l},hasClass:function hasClass(e,t){return e.classList?Array.prototype.some.call(e.classList,function(e){return e===t}):!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))},addClass:function addClass(t,e){t.classList?e.replace(/(^\s+|\s+$)/g,"").split(/\s+/g).forEach(function(e){e&&t.classList.add(e)}):r.hasClass(t,e)||(t.className+=" "+e)},removeClass:function removeClass(n,e){n.classList?e.split(/\s+/g).forEach(function(e){n.classList.remove(e)}):r.hasClass(n,e)&&e.split(/\s+/g).forEach(function(e){var t=new RegExp("(\\s|^)"+e+"(\\s|$)");n.className=n.className.replace(t," ")})},toggleClass:function toggleClass(t,e){e.split(/\s+/g).forEach(function(e){r.hasClass(t,e)?r.removeClass(t,e):r.addClass(t,e)})},findDom:function findDom(e,t){var n=0<arguments.length&&void 0!==e?e:document,i=t,o=void 0;try{o=n.querySelector(i)}catch(e){i.startsWith("#")&&(o=n.getElementById(i.slice(1)))}return o},deepCopy:function deepCopy(t,n){if("Object"===r.typeOf(n)&&"Object"===r.typeOf(t))return Object.keys(n).forEach(function(e){"Object"!==r.typeOf(n[e])||n[e]instanceof Node?"Array"===r.typeOf(n[e])?t[e]="Array"===r.typeOf(t[e])?t[e].concat(n[e]):n[e]:t[e]=n[e]:t[e]?r.deepCopy(t[e],n[e]):t[e]=n[e]}),t},typeOf:function typeOf(e){return Object.prototype.toString.call(e).match(/([^\s.*]+)(?=]$)/g)[0]},copyDom:function copyDom(e){if(e&&1===e.nodeType){var t=document.createElement(e.tagName);return Array.prototype.forEach.call(e.attributes,function(e){t.setAttribute(e.name,e.value)}),e.innerHTML&&(t.innerHTML=e.innerHTML),t}return""},formatTime:function formatTime(e){var t=Math.floor(e);return 1e3*t+(e-t)},offInDestroy:function offInDestroy(e,t,n,i){e.once(i,function o(){e.off(t,n),e.off(i,o)})},on:function on(t,n,o,e){e?(t.on(n,o),r.offInDestroy(t,n,o,e)):t.on(n,function i(e){o(e),t.off(n,i)})},style:function style(e,t,n){var i=e.style;try{i[t]=n}catch(e){i.setProperty(t,n)}}};t.default=r,e.exports=t.default},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=i(26),a=r&&r.__esModule?r:{default:r},s=function(){function e(){!function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this)}return o(e,[{key:"setLogger",value:function value(e){var t=0<arguments.length&&void 0!==e?e:"";this.logger=new a.default(t+".js")}}]),e}();n.default=s,t.exports=n.default},function(e,t,n){var i=n(19)();e.exports=function(e){return e!==i&&null!==e}},function(e,t,n){e.exports=function(e){return null!=e}},function(e,t,n){e.exports=n(5)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n(6),o=i&&i.__esModule?i:{default:i};n(34),t.default=o.default,e.exports=t.default},function(e,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=f(i(7)),a=f(i(1)),s=f(i(27)),l=f(i(31)),u=f(i(0)),c=i(32),d=i(33);function f(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":C(t))&&"function"!=typeof t?e:t}var p=function(){function t(e){!function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this);var n=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));n.setLogger("danmu"),n.logger&&n.logger.info("danmu.js version: "+c.version);var i,o=n;return o.config=u.default.deepCopy({overlap:!1,area:{start:0,end:1},live:!1,comments:[],direction:"r2l",needResizeObserver:!1},e),o.hideArr=[],o.domObj=new l.default,(0,r.default)(o),o.config.comments.forEach(function(e){e.duration=e.duration?e.duration:5e3,e.mode||(e.mode="scroll")}),o.config.container&&1===o.config.container.nodeType?(o.container=o.config.container,o.config.containerStyle&&(i=o.config.containerStyle,Object.keys(i).forEach(function(e){o.container.style[e]=i[e]})),o.live=o.config.live,o.player=o.config.player,o.direction=o.config.direction,u.default.addClass(o.container,"danmu"),o.bulletBtn=new s.default(o),o.isReady=!0,o.emit("ready"),n.logger&&n.logger.info("ready"),n.addResizeObserver(),n):(o.emit("error","container id can't be empty"),h(n,!1))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":C(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),o(t,[{key:"addResizeObserver",value:function value(){var e=this;this.config.needResizeObserver&&(0,d.addObserver)(this.container,function(){e.logger&&e.logger.info("needResizeObserver"),e.resize()})}},{key:"start",value:function value(){this.logger&&this.logger.info("start"),this.bulletBtn.main.start()}},{key:"pause",value:function value(){this.logger&&this.logger.info("pause"),this.bulletBtn.main.pause()}},{key:"play",value:function value(){this.logger&&this.logger.info("play"),this.bulletBtn.main.play()}},{key:"stop",value:function value(){this.logger&&this.logger.info("stop"),this.bulletBtn.main.stop()}},{key:"clear",value:function value(){this.logger&&this.logger.info("clear"),this.bulletBtn.main.clear()}},{key:"destroy",value:function value(){for(var e in(0,d.unObserver)(this.container),this.logger&&this.logger.info("destroy"),this.stop(),this.bulletBtn.destroy(),this.domObj.destroy(),this)delete this[e];this.emit("destroy")}},{key:"sendComment",value:function value(e){this.logger&&this.logger.info("sendComment: "+(e.txt||"[DOM Element]")),e.duration||(e.duration=15e3),e&&e.id&&e.duration&&(e.el||e.txt)&&(e.duration=e.duration?e.duration:5e3,e.style||(e.style={opacity:void 0,fontSize:void 0}),e.style&&(this.opacity&&this.opacity!==e.style.opacity&&(e.style.opacity=this.opacity),this.fontSize&&this.fontSize!==e.style.fontSize&&(e.style.fontSize=this.fontSize)),e.prior||e.realTime?(this.bulletBtn.main.data.unshift(e),e.realTime&&(this.bulletBtn.main.readData(),this.bulletBtn.main.dataHandle())):this.bulletBtn.main.data.push(e))}},{key:"setCommentID",value:function value(t,n){var i=this;this.logger&&this.logger.info("setCommentID: oldID "+t+" newID "+n);var o=this.container.getBoundingClientRect();t&&n&&(this.bulletBtn.main.data.some(function(e){return e.id===t&&(e.id=n,!0)}),this.bulletBtn.main.queue.some(function(e){return e.id===t&&(e.id=n,e.pauseMove(o),"paused"!==i.bulletBtn.main.status&&e.startMove(o),!0)}))}},{key:"setCommentDuration",value:function value(t,n){var i=this;this.logger&&this.logger.info("setCommentDuration: id "+t+" duration "+n);var o=this.container.getBoundingClientRect();t&&n&&(n=n||5e3,this.bulletBtn.main.data.some(function(e){return e.id===t&&(e.duration=n,!0)}),this.bulletBtn.main.queue.some(function(e){return e.id===t&&(e.duration=n,e.pauseMove(o),"paused"!==i.bulletBtn.main.status&&e.startMove(o),!0)}))}},{key:"setCommentLike",value:function value(t,n){this.logger&&this.logger.info("setCommentLike: id "+t+" like "+n);var i=this.container.getBoundingClientRect();t&&n&&(this.bulletBtn.main.data.some(function(e){return e.id===t&&(e.like=n,!0)}),this.bulletBtn.main.queue.some(function(e){return e.id===t&&(e.pauseMove(i),e.setLikeDom(n.el,n.style),"paused"!==e.danmu.bulletBtn.main.status&&e.startMove(i),!0)}))}},{key:"restartComment",value:function value(t){this.logger&&this.logger.info("restartComment: id "+t),this.mouseControl=!1;var n=this.container.getBoundingClientRect();t&&this.bulletBtn.main.queue.some(function(e){return e.id===t&&("paused"!==e.danmu.bulletBtn.main.status?e.startMove(n,!0):e.status="paused",!0)})}},{key:"freezeComment",value:function value(t){this.logger&&this.logger.info("freezeComment: id "+t),this.mouseControl=!0;var n=this.container.getBoundingClientRect();t&&this.bulletBtn.main.queue.some(function(e){return e.id===t&&(e.status="forcedPause",e.pauseMove(n),e.el&&e.el.style&&u.default.style(e.el,"zIndex",10),!0)})}},{key:"removeComment",value:function value(t){this.logger&&this.logger.info("removeComment: id "+t),t&&(this.bulletBtn.main.queue.some(function(e){return e.id===t&&(e.remove(),!0)}),this.bulletBtn.main.data=this.bulletBtn.main.data.filter(function(e){return e.id!==t}))}},{key:"updateComments",value:function value(e,t){1<arguments.length&&void 0!==t&&!t||(this.bulletBtn.main.data=[]),this.bulletBtn.main.data=this.bulletBtn.main.data.concat(e)}},{key:"setAllDuration",value:function value(e,t,n){var i=0<arguments.length&&void 0!==e?e:"scroll",o=t,r=!(2<arguments.length&&void 0!==n)||n;this.logger&&this.logger.info("setAllDuration: mode "+i+" duration "+o+" force "+r);var a=this.container.getBoundingClientRect();o&&(o=o||5e3,r&&(this.bulletBtn.main.forceDuration=o),this.bulletBtn.main.data.forEach(function(e){i===e.mode&&(e.duration=o)}),this.bulletBtn.main.queue.forEach(function(e){i===e.mode&&(e.duration=o,e.pauseMove(a),"paused"!==e.danmu.bulletBtn.main.status&&e.startMove(a))}))}},{key:"setOpacity",value:function value(e){this.logger&&this.logger.info("setOpacity: opacity "+e),this.container.style.opacity=e}},{key:"setFontSize",value:function value(e,t){var n=this;this.logger&&this.logger.info("setFontSize: size "+e+" channelSize "+t),this.fontSize=e+"px",e&&(this.bulletBtn.main.data.forEach(function(e){e.style&&(e.style.fontSize=n.fontSize)}),this.bulletBtn.main.queue.forEach(function(e){e.options.style||(e.options.style={}),e.options.style.fontSize=n.fontSize,e.setFontSize(n.fontSize),t&&(e.top=e.channel_id[0]*t,e.topInit())})),t&&(this.config.channelSize=t,this.bulletBtn.main.channel.resize(!0))}},{key:"setArea",value:function value(e){this.logger&&this.logger.info("setArea: area "+e),this.config.area=e,this.bulletBtn.main.channel.resize(!0)}},{key:"hide",value:function value(e){var t=0<arguments.length&&void 0!==e?e:"scroll";this.logger&&this.logger.info("hide: mode "+t),this.hideArr.indexOf(t)<0&&this.hideArr.push(t),this.bulletBtn.main.queue.filter(function(e){return t===e.mode||"color"===t&&e.color}).forEach(function(e){return e.remove()})}},{key:"show",value:function value(e){var t=0<arguments.length&&void 0!==e?e:"scroll";this.logger&&this.logger.info("show: mode "+t);var n=this.hideArr.indexOf(t);-1<n&&this.hideArr.splice(n,1)}},{key:"setDirection",value:function value(e){var t=0<arguments.length&&void 0!==e?e:"r2l";this.logger&&this.logger.info("setDirection: direction "+t),this.emit("changeDirection",t)}},{key:"resize",value:function value(){this.logger&&this.logger.info("resize"),this.emit("channel_resize")}}]),t}();n.default=p,e.exports=n.default},function(e,s,l){var u,c,f,d=l(8),p=l(25),h=Function.prototype.apply,g=Function.prototype.call,y=Object.create,v=Object.defineProperty,m=Object.defineProperties,b=Object.prototype.hasOwnProperty,x={configurable:!0,enumerable:!1,writable:!0},w=function o(e,t){var i,o;return p(t),o=this,u.call(this,e,i=function n(){c.call(o,e,i),h.call(t,this,arguments)}),i.__eeOnceListener__=t,this},k={on:u=function i(e,t){var n;return p(t),b.call(this,"__ee__")?n=this.__ee__:(n=x.value=y(null),v(this,"__ee__",x),x.value=null),n[e]?"object"==C(n[e])?n[e].push(t):n[e]=[n[e],t]:n[e]=t,this},once:w,off:c=function r(e,t){var n,i,o,r;if(p(t),!b.call(this,"__ee__"))return this;if(!(n=this.__ee__)[e])return this;if("object"==C(i=n[e]))for(r=0;o=i[r];++r)o!==t&&o.__eeOnceListener__!==t||(2===i.length?n[e]=i[r?0:1]:i.splice(r,1));else i!==t&&i.__eeOnceListener__!==t||delete n[e];return this},emit:f=function a(e,t,n){var i,o,r,s,l;if(b.call(this,"__ee__")&&(s=this.__ee__[e]))if("object"==(void 0===s?"undefined":C(s))){for(o=arguments.length,l=new Array(o-1),i=1;i<o;++i)l[i-1]=arguments[i];for(s=s.slice(),i=0;r=s[i];++i)h.call(r,this,l)}else switch(arguments.length){case 1:g.call(s,this);break;case 2:g.call(s,this,t);break;case 3:g.call(s,this,t,n);break;default:for(o=arguments.length,l=new Array(o-1),i=1;i<o;++i)l[i-1]=arguments[i];h.call(s,this,l)}}},E={on:d(u),once:d(w),off:d(c),emit:d(f)},_=m({},E);e.exports=s=function t(e){return null==e?y(_):m(Object(e),E)},s.methods=k},function(e,t,n){var s=n(3),l=n(9),u=n(13),c=n(21),f=n(22);(e.exports=function(e,t){var n,i,o,r,a;return arguments.length<2||"string"!=typeof e?(r=t,t=e,e=null):r=arguments[2],s(e)?(n=f.call(e,"c"),i=f.call(e,"e"),o=f.call(e,"w")):i=!(n=o=!0),a={value:t,configurable:n,enumerable:i,writable:o},r?u(c(r),a):a}).gs=function(e,t,n){var i,o,r,a;return"string"!=typeof e?(r=n,n=t,t=e,e=null):r=arguments[3],s(t)?l(t)?s(n)?l(n)||(r=n,n=void 0):n=void 0:(r=t,t=n=void 0):t=void 0,o=s(e)?(i=f.call(e,"c"),f.call(e,"e")):!(i=!0),a={get:t,set:n,configurable:i,enumerable:o},r?u(c(r),a):a}},function(e,t,n){var i=n(10),o=/^\s*class[\s{/}]/,r=Function.prototype.toString;e.exports=function(e){return!!i(e)&&!o.test(r.call(e))}},function(e,t,n){var i=n(11);e.exports=function(e){if("function"!=typeof e)return!1;if(!hasOwnProperty.call(e,"length"))return!1;try{if("number"!=typeof e.length)return!1;if("function"!=typeof e.call)return!1;if("function"!=typeof e.apply)return!1}catch(e){return!1}return!i(e)}},function(e,t,n){var i=n(12);e.exports=function(e){if(!i(e))return!1;try{return!!e.constructor&&e.constructor.prototype===e}catch(e){return!1}}},function(e,t,n){var i=n(3),o={object:!0,function:!0,undefined:!0};e.exports=function(e){return!!i(e)&&hasOwnProperty.call(o,void 0===e?"undefined":C(e))}},function(e,t,n){e.exports=n(14)()?Object.assign:n(15)},function(e,t,n){e.exports=function(){var e,t=Object.assign;return"function"==typeof t&&(t(e={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},function(e,t,n){var a=n(16),l=n(20),u=Math.max;e.exports=function(t,n){var i,e,o,r=u(arguments.length,2);for(t=Object(l(t)),o=function s(e){try{t[e]=n[e]}catch(e){i=i||e}},e=1;e<r;++e)a(n=arguments[e]).forEach(o);if(void 0!==i)throw i;return t}},function(e,t,n){e.exports=n(17)()?Object.keys:n(18)},function(e,t,n){e.exports=function(){try{return Object.keys("primitive"),!0}catch(e){return!1}}},function(e,t,n){var i=n(2),o=Object.keys;e.exports=function(e){return o(i(e)?Object(e):e)}},function(e,t,n){e.exports=function(){}},function(e,t,n){var i=n(2);e.exports=function(e){if(!i(e))throw new TypeError("Cannot use null or undefined");return e}},function(e,t,n){var i=n(2),o=Array.prototype.forEach,r=Object.create;e.exports=function(e){var t=r(null);return o.call(arguments,function(e){i(e)&&function a(e,t){var n;for(n in e)t[n]=e[n]}(Object(e),t)}),t}},function(e,t,n){e.exports=n(23)()?String.prototype.contains:n(24)},function(e,t,n){var i="razdwatrzy";e.exports=function(){return"function"==typeof i.contains&&!0===i.contains("dwa")&&!1===i.contains("foo")}},function(e,t,n){var i=String.prototype.indexOf;e.exports=function(e){return-1<i.call(this,e,arguments[1])}},function(e,t,n){e.exports=function(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return e}},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r="undefined"!=typeof window&&-1<window.location.href.indexOf("danmu-debug"),a=function(){function e(t){!function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.constructorName=t||""}return o(e,[{key:"info",value:function value(e){for(var t,n=arguments.length,i=Array(1<n?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];r&&(t=console).log.apply(t,["[Danmu Log]["+this.constructorName+"]",e].concat(i))}}]),e}();n.default=a,t.exports=n.default},function(e,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=s(i(1)),a=s(i(0)),l=s(i(28));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(){function t(e){!function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":C(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.setLogger("control"),n.danmu=e,n.main=new l.default(e),e.config.defaultOff||n.main.start(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":C(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),o(t,[{key:"createSwitch",value:function value(e){var t=!(0<arguments.length&&void 0!==e)||e;return this.logger&&this.logger.info("createSwitch"),this.switchBtn=a.default.createDom("dk-switch",'<span class="txt">弹</span>',{},"danmu-switch "+(t?"danmu-switch-active":"")),this.switchBtn}},{key:"destroy",value:function value(){for(var e in this.logger&&this.logger.info("destroy"),this.main.destroy(),this)delete this[e]}}]),t}();n.default=u,e.exports=n.default},function(e,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=l(i(1)),a=l(i(29)),s=l(i(30)),u=l(i(0));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(){function t(e){!function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":C(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));n.setLogger("main"),n.danmu=e,n.container=e.container,n.channel=new a.default(e),n.data=[].concat(e.config.comments),n.playedData=[],n.queue=[],n.timer=null,n.retryTimer=null,n.retryStatus="normal",n.interval=e.config.interval||2e3,n.status="idle",u.default.on(e,"bullet_remove",n.updateQueue.bind(n),"destroy");var i=n;return u.default.on(n.danmu,"changeDirection",function(e){i.danmu.direction=e},"destroy"),n.nums=0,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":C(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),o(t,[{key:"destroy",value:function value(){for(var e in this.logger&&this.logger.info("destroy"),clearTimeout(this.dataHandleTimer),this.channel.destroy(),this.data=[],this)delete this[e]}},{key:"updateQueue",value:function value(n){this.logger&&this.logger.info("updateQueue");var i=this;i.queue.some(function(e,t){return e.id===n.bullet.id&&(i.queue.splice(t,1),!0)}),i.data.some(function(e,t){return e.id===n.bullet.id&&!(e.hasAttached=!1)})}},{key:"init",value:function value(t,n){n.logger&&n.logger.info("init"),(n=n||this).retryStatus="normal",n.data.sort(function(e,t){return e.start-t.start}),n.retryTimer||function e(){"closed"===n.status&&"stop"===n.retryStatus||("playing"===n.status&&(n.readData(),n.dataHandle()),"stop"===n.retryStatus&&"paused"!==n.status||(n.dataHandleTimer=setTimeout(function(){e()},n.interval-1e3)))}()}},{key:"start",value:function value(){this.logger&&this.logger.info("start"),this.status="playing",this.queue=[],this.container.innerHTML="",this.channel.resetWithCb(this.init,this)}},{key:"stop",value:function value(){this.logger&&this.logger.info("stop"),this.status="closed",this.retryTimer=null,this.retryStatus="stop",this.channel.reset(),this.queue=[],this.container.innerHTML=""}},{key:"clear",value:function value(){this.logger&&this.logger.info("clear"),this.channel.reset(),this.data=[],this.queue=[],this.container.innerHTML=""}},{key:"play",value:function value(){var n=this;this.logger&&this.logger.info("play"),this.status="playing";var i=this.channel.channels,o=this.danmu.container.getBoundingClientRect();i&&0<i.length&&["scroll","top","bottom"].forEach(function(e){n.queue.forEach(function(e){e.startMove(o),e.resized=!0});for(var t=0;t<i.length;t++)i[t].queue[e].forEach(function(e){e.resized=!1})})}},{key:"pause",value:function value(){this.logger&&this.logger.info("pause"),this.status="paused";var e=this.channel.channels,t=this.danmu.container.getBoundingClientRect();e&&0<e.length&&this.queue.forEach(function(e){e.pauseMove(t)})}},{key:"dataHandle",value:function value(){var t=this;"paused"!==this.status&&"closed"!==this.status&&t.queue.length&&t.queue.forEach(function(e){"waiting"===e.status&&e.startMove(t.channel.containerPos)})}},{key:"readData",value:function value(){var t,i,n,o,e,r=this,a=this.danmu;a.isReady&&(t=0,a.player&&a.player.currentTime&&(t=u.default.formatTime(a.player.currentTime)),i=void 0,n=r.interval,o=r.channel,e=void 0,a.player?(e=r.data.filter(function(e){return!e.start&&r.danmu.hideArr.indexOf(e.mode)<0&&(!e.color||r.danmu.hideArr.indexOf("color")<0)&&(e.start=t),r.danmu.hideArr.indexOf(e.mode)<0&&(!e.color||r.danmu.hideArr.indexOf("color")<0)&&e.start-n<=t&&t<=e.start+n}),a.live&&(r.data=[])):0===(e=r.data.splice(0,1)).length&&(e=r.playedData.splice(0,1)),0<e.length&&e.forEach(function(e){if(r.forceDuration&&r.forceDuration!=e.duration&&(e.duration=r.forceDuration),(i=new s.default(a,e))&&!i.bulletCreateFail)if(e.hasAttached){for(var t in i.detach(),i)delete i[t];i=null,e.hasAttached=!1,e.noDiscard&&(e.prior?r.data.unshift(e):r.data.push(e))}else if(i.attach(),e.hasAttached=!0,o.addBullet(i).result)r.queue.push(i),r.nums++,i.topInit();else{for(var n in i.detach(),i)delete i[n];i=null,e.hasAttached=!1,e.noDiscard&&(e.prior?r.data.unshift(e):r.data.push(e))}}))}}]),t}();n.default=c,e.exports=n.default},function(e,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=a(i(1)),s=a(i(0));function a(e){return e&&e.__esModule?e:{default:e}}var l=function(){function t(e){!function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":C(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));n.setLogger("channel"),n.danmu=e,n.reset(!0);var i=n;return s.default.on(n.danmu,"bullet_remove",function(e){i.removeBullet(e.bullet)},"destroy"),n.direction=e.direction,s.default.on(n.danmu,"changeDirection",function(e){i.direction=e},"destroy"),n.containerPos=n.danmu.container.getBoundingClientRect(),n.containerWidth=n.containerPos.width,n.containerHeight=n.containerPos.height,n.containerLeft=n.containerPos.left,n.containerRight=n.containerPos.right,s.default.on(n.danmu,"channel_resize",function(){i.containerPos=i.danmu.container.getBoundingClientRect(),i.resizing||(i.containerWidth=i.containerPos.width,i.containerHeight=i.containerPos.height,i.containerLeft=i.containerPos.left,i.containerRight=i.containerPos.right,i.resize(!0))},"destroy"),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":C(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),o(t,[{key:"destroy",value:function value(){for(var e in this.logger&&this.logger.info("destroy"),clearTimeout(this.resizeTimer),this.channels=[],this)delete this[e]}},{key:"resize",value:function value(e){var f=0<arguments.length&&void 0!==e&&e;this.logger&&this.logger.info("resize");var d=this.danmu.container,p=this;p.resizing||(p.resizing=!0,this.resizeTimer=setTimeout(function(){p.danmu.bulletBtn.main.data&&p.danmu.bulletBtn.main.data.forEach(function(e){e.bookChannelId&&(delete e.bookChannelId,p.logger&&p.logger.info("resize导致"+e.id+"号优先弹幕预定取消"))}),p.logger&&p.logger.info("resize导致所有轨道恢复正常使用");var e=d.getBoundingClientRect();p.width=e.width,p.height=e.height,p.danmu.config.area&&0<=p.danmu.config.area.start&&p.danmu.config.area.end>=p.danmu.config.area.start&&("b2t"===p.direction?p.width=p.width*(p.danmu.config.area.end-p.danmu.config.area.start):p.height=p.height*(p.danmu.config.area.end-p.danmu.config.area.start)),p.container=d;for(var a=p.danmu.config.channelSize||(/mobile/gi.test(navigator.userAgent)?10:12),t="b2t"===p.direction?Math.floor(p.width/a):Math.floor(p.height/a),s=[],n=0;n<t;n++)s[n]={id:n,queue:{scroll:[],top:[],bottom:[]},operating:{scroll:!1,top:!1,bottom:!1},bookId:{}};if(p.channels&&p.channels.length<=s.length){for(var i=0;i<p.channels.length;i++)!function l(n){s[n]={id:n,queue:{scroll:[],top:[],bottom:[]},operating:{scroll:!1,top:!1,bottom:!1},bookId:{}},["scroll","top"].forEach(function(t){p.channels[n].queue[t].forEach(function(e){e.el&&(s[n].queue[t].push(e),e.resized||(e.pauseMove(p.containerPos,f),"paused"!==e.danmu.bulletBtn.main.status&&e.startMove(p.containerPos),e.resized=!0))})}),p.channels[n].queue.bottom.forEach(function(e){var t;e.el&&(s[n+s.length-p.channels.length].queue.bottom.push(e),e.channel_id[0]+e.channel_id[1]-1===n&&(t=[].concat(e.channel_id),e.channel_id=[t[0]-p.channels.length+s.length,t[1]],e.top=e.channel_id[0]*a,p.danmu.config.area&&p.danmu.config.area.start&&(e.top+=p.containerHeight*p.danmu.config.area.start),e.topInit()),e.resized||(e.pauseMove(p.containerPos,f),"paused"!==e.danmu.bulletBtn.main.status&&e.startMove(p.containerPos),e.resized=!0))})}(i);for(var o=0;o<s.length;o++)!function c(t){["scroll","top","bottom"].forEach(function(e){s[t].queue[e].forEach(function(e){e.resized=!1})})}(o);p.channels=s,"b2t"===p.direction?p.channelWidth=a:p.channelHeight=a}else if(p.channels&&p.channels.length>s.length){for(var r=0;r<s.length;r++)!function h(r){s[r]={id:r,queue:{scroll:[],top:[],bottom:[]},operating:{scroll:!1,top:!1,bottom:!1},bookId:{}},["scroll","top","bottom"].forEach(function(i){var o;"top"===i&&r>Math.floor(s.length/2)||"bottom"===i&&r<=Math.floor(s.length/2)||(o="bottom"===i?r-s.length+p.channels.length:r,p.channels[o].queue[i].forEach(function(e,t){var n;e.el&&(s[r].queue[i].push(e),"bottom"===i&&e.channel_id[0]+e.channel_id[1]-1===o&&(n=[].concat(e.channel_id),e.channel_id=[n[0]-p.channels.length+s.length,n[1]],e.top=e.channel_id[0]*a,p.danmu.config.area&&p.danmu.config.area.start&&(e.top+=p.containerHeight*p.danmu.config.area.start),e.topInit()),e.pauseMove(p.containerPos,f),"paused"!==e.danmu.bulletBtn.main.status&&e.startMove(p.containerPos),e.resized||(e.resized=!0)),p.channels[o].queue[i].splice(t,1)}))})}(r);for(var u=0;u<s.length;u++)!function g(t){["scroll","top","bottom"].forEach(function(e){s[t].queue[e].forEach(function(e){e.resized=!1})})}(u);p.channels=s,"b2t"===p.direction?p.channelWidth=a:p.channelHeight=a}p.resizing=!1},10))}},{key:"addBullet",value:function value(t){var n=this,e=this.danmu,i=this.channels,o=void 0,r=void 0,a=void 0;if((a="b2t"===n.direction?(r=this.channelWidth,Math.ceil(t.width/r)):(o=this.channelHeight,Math.ceil(t.height/o)))>i.length)return{result:!1,message:"exceed channels.length, occupy="+a+",channelsSize="+i.length};for(var s=!0,l=void 0,u=-1,c=0,f=i.length;c<f;c++)if(i[c].queue[t.mode].some(function(e){return e.id===t.id}))return{result:!1,message:"exsited, channelOrder="+c+",danmu_id="+t.id};if("scroll"===t.mode)for(var d=0,p=i.length-a;d<=p;d++){s=!0;for(var h=d;h<d+a;h++){if((l=i[h]).operating.scroll){s=!1;break}if(l.bookId.scroll&&l.bookId.scroll!==t.id){s=!1;break}l.operating.scroll=!0;var g=l.queue.scroll[0];if(g){var y=g.el.getBoundingClientRect();if("b2t"===n.direction){if(y.bottom>n.containerPos.bottom){s=!1,l.operating.scroll=!1;break}}else if(y.right>n.containerPos.right){s=!1,l.operating.scroll=!1;break}var v=void 0,m=void 0,b=void 0,x=void 0,x="b2t"===n.direction?(m=(y.top-n.containerPos.top+y.height)/(v=(n.containerPos.height+y.height)/g.duration),b=n.containerPos.height,(n.containerPos.height+t.height)/t.duration):(m=(y.left-n.containerPos.left+y.width)/(v=(n.containerPos.width+y.width)/g.duration),b=n.containerPos.width,(n.containerPos.width+t.width)/t.duration),w=b/x;if(e.config.bOffset||(e.config.bOffset=0),v<x&&m+e.config.bOffset>w){s=!1,l.operating.scroll=!1;break}}l.operating.scroll=!1}if(s){u=d;break}}else if("top"===t.mode)for(var k=0,E=i.length-a;k<=E;k++){s=!0;for(var _=k;_<k+a;_++){if(_>Math.floor(i.length/2)){s=!1;break}if((l=i[_]).operating[t.mode]){s=!1;break}if((l.bookId[t.mode]||t.prior)&&l.bookId[t.mode]!==t.id){s=!1;break}if(l.operating[t.mode]=!0,0<l.queue[t.mode].length){s=!1,l.operating[t.mode]=!1;break}l.operating[t.mode]=!1}if(s){u=k;break}}else if("bottom"===t.mode)for(var C=i.length-a;0<=C;C--){s=!0;for(var T=C;T<C+a;T++){if(T<=Math.floor(i.length/2)){s=!1;break}if((l=i[T]).operating[t.mode]){s=!1;break}if((l.bookId[t.mode]||t.prior)&&l.bookId[t.mode]!==t.id){s=!1;break}if(l.operating[t.mode]=!0,0<l.queue[t.mode].length){s=!1,l.operating[t.mode]=!1;break}l.operating[t.mode]=!1}if(s){u=C;break}}if(-1!==u){for(var O=u,P=u+a;O<P;O++)(l=i[O]).operating[t.mode]=!0,l.queue[t.mode].unshift(t),t.prior&&(delete l.bookId[t.mode],n.logger&&n.logger.info(O+"号轨道恢复正常使用")),l.operating[t.mode]=!1;return t.prior&&(n.logger&&n.logger.info(t.id+"号优先弹幕运行完毕"),delete t.bookChannelId,e.player&&e.bulletBtn.main.data.some(function(e){return e.id===t.id&&(delete e.bookChannelId,!0)})),t.channel_id=[u,a],"b2t"===n.direction?(t.top=u*r,n.danmu.config.area&&n.danmu.config.area.start&&(t.top+=n.containerWidth*n.danmu.config.area.start)):(t.top=u*o,n.danmu.config.area&&n.danmu.config.area.start&&(t.top+=n.containerHeight*n.danmu.config.area.start)),{result:t,message:"success"}}if(t.options.realTime){var R=0,S=-1,D=null;if(n.danmu.bulletBtn.main.queue.forEach(function(e,t){!e.prior&&!e.options.realTime&&e.el&&e.el.getBoundingClientRect().left>n.containerPos.right&&e.start>=R&&(R=e.start,S=t,D=e)}),D){D.remove(),n.removeBullet(D),n.danmu.bulletBtn.main.queue.splice(S,1),t.channel_id=D.channel_id;for(var M=D.channel_id[0],A=D.channel_id[0]+D.channel_id[1];M<A;M++)(l=i[M]).operating[t.mode]=!0,l.queue[t.mode].unshift(t),t.prior&&delete l.bookId[t.mode],l.operating[t.mode]=!1;return t.top=D.top,n.danmu.config.area&&n.danmu.config.area.start&&(t.top+=n.containerHeight*n.danmu.config.area.start),{result:t,message:"success"}}}if(t.prior)if(t.bookChannelId||n.danmu.live)e.player&&e.bulletBtn.main.data.some(function(e){return e.id===t.id&&(n.logger&&n.logger.info(t.id+"号优先弹幕将于2秒后再次请求注册"),e.start+=2e3,!0)});else{u=-1;for(var L=0,j=i.length-a;L<=j;L++){s=!0;for(var I=L;I<L+a;I++)if(i[I].bookId[t.mode]){s=!1;break}if(s){u=L;break}}if(-1!==u){for(var B=u;B<u+a;B++)i[B].bookId[t.mode]=t.id,n.logger&&n.logger.info(B+"号轨道被"+t.id+"号优先弹幕预定");e.player&&e.bulletBtn.main.data.some(function(e){return e.id===t.id&&(n.logger&&n.logger.info(t.id+"号优先弹幕将于2秒后再次请求注册"),e.start+=2e3,e.bookChannelId=[u,a],n.logger&&n.logger.info(t.id+"号优先弹幕预定了"+u+"~"+(u+a-1)+"号轨道"),!0)})}}return{result:!1,message:"no surplus will right"}}},{key:"removeBullet",value:function value(n){this.logger&&this.logger.info("removeBullet "+(n.options.txt||"[DOM Element]"));for(var i,e=this.channels,t=n.channel_id,o=void 0,r=t[0],a=t[0]+t[1];r<a;r++){(o=e[r])&&(o.operating[n.mode]=!0,i=-1,o.queue[n.mode].some(function(e,t){return e.id===n.id&&(i=t,!0)}),-1<i&&o.queue[n.mode].splice(i,1),o.operating[n.mode]=!1)}n.options.loop&&this.danmu.bulletBtn.main.playedData.push(n.options)}},{key:"resetArea",value:function value(){this.logger&&this.logger.info("resetArea");var e=this.danmu.container,a=this,t=e.getBoundingClientRect();a.width=t.width,a.height=t.height,a.danmu.config.area&&0<=a.danmu.config.area.start&&a.danmu.config.area.end>=a.danmu.config.area.start&&("b2t"===a.direction?a.width=a.width*(a.danmu.config.area.end-a.danmu.config.area.start):a.height=a.height*(a.danmu.config.area.end-a.danmu.config.area.start)),a.container=e;for(var l=a.danmu.config.channelSize||(/mobile/gi.test(navigator.userAgent)?10:12),n="b2t"===a.direction?Math.floor(a.width/l):Math.floor(a.height/l),c=[],i=0;i<n;i++)c[i]={id:i,queue:{scroll:[],top:[],bottom:[]},operating:{scroll:!1,top:!1,bottom:!1},bookId:{}};if(a.channels&&a.channels.length<=c.length){for(var o=0;o<a.channels.length;o++)!function s(n){c[n]={id:n,queue:{scroll:[],top:[],bottom:[]},operating:{scroll:!1,top:!1,bottom:!1},bookId:{}},["scroll","top"].forEach(function(t){a.channels[n].queue[t].forEach(function(e){e.el&&(c[n].queue[t].push(e),e.resized||(e.pauseMove(a.containerPos,!1),e.startMove(a.containerPos),e.resized=!0))})}),a.channels[n].queue.bottom.forEach(function(e){var t;e.el&&(c[n+c.length-a.channels.length].queue.bottom.push(e),e.channel_id[0]+e.channel_id[1]-1===n&&(t=[].concat(e.channel_id),e.channel_id=[t[0]-a.channels.length+c.length,t[1]],e.top=e.channel_id[0]*l,a.danmu.config.area&&a.danmu.config.area.start&&(e.top+=a.containerHeight*a.danmu.config.area.start),e.topInit()),e.resized||(e.pauseMove(a.containerPos,!1),e.startMove(a.containerPos),e.resized=!0))})}(o);for(var r=0;r<c.length;r++)!function u(t){["scroll","top","bottom"].forEach(function(e){c[t].queue[e].forEach(function(e){e.resized=!1})})}(r);a.channels=c,"b2t"===a.direction?a.channelWidth=l:a.channelHeight=l}else if(a.channels&&a.channels.length>c.length){for(var p=0;p<c.length;p++)!function f(r){c[r]={id:r,queue:{scroll:[],top:[],bottom:[]},operating:{scroll:!1,top:!1,bottom:!1},bookId:{}},["scroll","top","bottom"].forEach(function(i){var o;"top"===i&&r>Math.floor(c.length/2)||"bottom"===i&&r<=Math.floor(c.length/2)||(o="bottom"===i?r-c.length+a.channels.length:r,a.channels[o].queue[i].forEach(function(e,t){var n;e.el&&(c[r].queue[i].push(e),"bottom"===i&&e.channel_id[0]+e.channel_id[1]-1===o&&(n=[].concat(e.channel_id),e.channel_id=[n[0]-a.channels.length+c.length,n[1]],e.top=e.channel_id[0]*l,a.danmu.config.area&&a.danmu.config.area.start&&(e.top+=a.containerHeight*a.danmu.config.area.start),e.topInit()),e.resized||(e.pauseMove(a.containerPos,!1),e.startMove(a.containerPos),e.resized=!0)),a.channels[o].queue[i].splice(t,1)}))})}(p);for(var h=0;h<c.length;h++)!function d(t){["scroll","top","bottom"].forEach(function(e){c[t].queue[e].forEach(function(e){e.resized=!1})})}(h);a.channels=c,"b2t"===a.direction?a.channelWidth=l:a.channelHeight=l}}},{key:"reset",value:function value(e){var t=0<arguments.length&&void 0!==e&&e;this.logger&&this.logger.info("reset");var r=this.danmu.container,a=this;function i(){var e=r.getBoundingClientRect();a.width=e.width,a.height=e.height,a.danmu.config.area&&0<=a.danmu.config.area.start&&a.danmu.config.area.end>=a.danmu.config.area.start&&("b2t"===a.direction?a.width=a.width*(a.danmu.config.area.end-a.danmu.config.area.start):a.height=a.height*(a.danmu.config.area.end-a.danmu.config.area.start)),a.container=r;for(var t=a.danmu.config.channelSize||(/mobile/gi.test(navigator.userAgent)?10:12),n="b2t"===a.direction?Math.floor(a.width/t):Math.floor(a.height/t),i=[],o=0;o<n;o++)i[o]={id:o,queue:{scroll:[],top:[],bottom:[]},operating:{scroll:!1,top:!1,bottom:!1},bookId:{}};a.channels=i,"b2t"===a.direction?a.channelWidth=t:a.channelHeight=t}a.danmu.bulletBtn&&a.danmu.bulletBtn.main&&a.danmu.bulletBtn.main.queue.forEach(function(e){e.pauseMove(a.containerPos),e.remove()}),a.channels&&0<a.channels.length&&["scroll","top","bottom"].forEach(function(e){for(var t=0;t<a.channels.length;t++)a.channels[t].queue[e].forEach(function(e){e.pauseMove(a.containerPos),e.remove()})}),a.danmu.bulletBtn&&a.danmu.bulletBtn.main&&a.danmu.bulletBtn.main.data&&a.danmu.bulletBtn.main.data.forEach(function(e){e.hasAttached=!1}),t?this.resetTimer=setTimeout(i,200):i()}},{key:"resetWithCb",value:function value(e,t){this.logger&&this.logger.info("resetWithCb");var n=this.danmu.container,i=this;i.channels&&0<i.channels.length&&["scroll","top","bottom"].forEach(function(e){for(var t=0;t<i.channels.length;t++)i.channels[t].queue[e].forEach(function(e){e.pauseMove(i.containerPos),e.remove()})});var o=n.getBoundingClientRect();i.width=o.width,i.height=o.height,i.danmu.config.area&&0<=i.danmu.config.area.start&&i.danmu.config.area.end>=i.danmu.config.area.start&&("b2t"===i.direction?i.width=i.width*(i.danmu.config.area.end-i.danmu.config.area.start):i.height=i.height*(i.danmu.config.area.end-i.danmu.config.area.start)),i.container=n;for(var r=i.danmu.config.channelSize||(/mobile/gi.test(navigator.userAgent)?10:12),a="b2t"===i.direction?Math.floor(i.width/r):Math.floor(i.height/r),s=[],l=0;l<a;l++)s[l]={id:l,queue:{scroll:[],top:[],bottom:[]},operating:{scroll:!1,top:!1,bottom:!1},bookId:{}};i.channels=s,i.channelHeight=r,e&&e(!0,t)}}]),t}();n.default=l,e.exports=n.default},function(e,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=a(i(1)),d=a(i(0));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":C(t))&&"function"!=typeof t?e:t}var u=function(){function t(e,n){!function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this);var i=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));i.setLogger("bullet"),i.danmu=e,i.options=n,i.duration=n.duration,i.moveV=n.moveV,i.id=n.id,i.container=e.container,i.start=n.start,i.prior=n.prior,i.color=n.color,i.bookChannelId=n.bookChannelId,i.direction=e.direction,i.reuseDOM=!0;var o,r,a=i,l=void 0;if(i.domObj=e.domObj,n.el&&1===n.el.nodeType){if(n.el.parentNode)return s(i,{bulletCreateFail:!0});e.config.disableCopyDOM?(l=n.el,i.reuseDOM=!1):(l=i.domObj.use(),o=d.default.copyDom(n.el),n.eventListeners&&0<n.eventListeners.length&&n.eventListeners.forEach(function(e){o.addEventListener(e.event,e.listener,e.useCapture||!1)}),l.appendChild(o))}else(l=i.domObj.use()).textContent=n.txt;i.onChangeDirection=function(e){a.direction=e},i.danmu.on("changeDirection",i.onChangeDirection),n.style&&(r=n.style,Object.keys(r).forEach(function(e){d.default.style(l,e,r[e])})),"top"===n.mode||"bottom"===n.mode?i.mode=n.mode:i.mode="scroll",i.el=l,n.like&&n.like.el&&i.setLikeDom(n.like.el,n.like.style),i.status="waiting";var u=i.container.getBoundingClientRect(),c=Math.floor(Math.random()*(100<u.width/10?200:u.width/10));n.realTime&&(c=0);var f=u.width+c+"px";return d.default.style(i.el,"left",f),i.containerPos=u,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":C(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),o(t,[{key:"attach",value:function value(){var e;this.container.appendChild(this.el),this.elPos=this.el.getBoundingClientRect(),"b2t"===this.direction?(this.width=this.elPos.height,this.height=this.elPos.width):(this.width=this.elPos.width,this.height=this.elPos.height),this.moveV&&(e=this.containerPos,this.duration=(e.width+this.width)/this.moveV*1e3),this.danmu.config&&this.danmu.config.mouseControl&&(this.mouseoverFunWrapper=this.mouseoverFun.bind(this),this.el.addEventListener("mouseover",this.mouseoverFunWrapper,!1)),this.danmu.config&&this.danmu.config.mouseEnterControl&&(this.mouseEnterFunWrapper=this.mouseoverFun.bind(this),this.el.addEventListener("mouseenter",this.mouseEnterFunWrapper,!1))}},{key:"mouseoverFun",value:function value(e){this.danmu&&this.danmu.mouseControl&&this.danmu.config.mouseControlPause||"waiting"===this.status||"end"===this.status||this.danmu&&this.danmu.emit("bullet_hover",{bullet:this,event:e})}},{key:"detach",value:function value(){this.el&&(this.danmu.config&&this.danmu.config.mouseControl&&this.el.removeEventListener("mouseover",this.mouseoverFunWrapper,!1),this.danmu.config&&this.danmu.config.mouseEnterControl&&this.el.removeEventListener("mouseenter",this.mouseEnterFunWrapper,!1),this.el.parentNode&&this.el.parentNode.removeChild(this.el),this.reuseDOM&&this.domObj.unuse(this.el),this.el=null),this.danmu.off("changeDirection",this.onChangeDirection)}},{key:"topInit",value:function value(){var e;this.logger&&this.logger.info("topInit #"+(this.options.txt||"[DOM Element]")+"#"),"b2t"===this.direction?(e=this.containerPos,d.default.style(this.el,"transformOrigin","left top"),d.default.style(this.el,"transform","translateX(-"+this.top+"px) translateY("+e.height+"px) translateZ(0px) rotate(90deg)"),d.default.style(this.el,"transition","transform 0s linear 0s")):d.default.style(this.el,"top",this.top+"px")}},{key:"pauseMove",value:function value(e,t){var n=1<arguments.length&&void 0!==t&&t;this.logger&&this.logger.info("pauseMove #"+(this.options.txt||"[DOM Element]")+"#");var i,o,r=this;"paused"!==this.status&&("forcedPause"!==r.status&&(this.status="paused"),clearTimeout(r.removeTimer),this.el)&&(d.default.style(this.el,"willChange","auto"),"scroll"===this.mode?(n?(i=((new Date).getTime()-r.moveTime)/1e3*this.moveV,o=(o=0)<=r.moveMoreS-i?"b2t"===this.direction?(r.moveMoreS-i)/r.moveContainerHeight*e.height:(r.moveMoreS-i)/r.moveContainerWidth*e.width:r.moveMoreS-i,"b2t"===this.direction?d.default.style(this.el,"transform","translateX(-"+this.top+"px) translateY("+o+"px) translateZ(0px) rotate(90deg)"):d.default.style(this.el,"left",o+"px")):"b2t"===this.direction?d.default.style(this.el,"transform","translateX(-"+this.top+"px) translateY("+(this.el.getBoundingClientRect().top-e.top)+"px) translateZ(0px) rotate(90deg)"):d.default.style(this.el,"left",this.el.getBoundingClientRect().left-e.left+"px"),"b2t"===this.direction||d.default.style(this.el,"transform","translateX(0px) translateY(0px) translateZ(0px)"),d.default.style(this.el,"transition","transform 0s linear 0s")):this.pastDuration&&this.startTime?this.pastDuration=this.pastDuration+(new Date).getTime()-this.startTime:this.pastDuration=1)}},{key:"startMove",value:function value(n,e){this.logger&&this.logger.info("startMove #"+(this.options.txt||"[DOM Element]")+"#");var t,i,o,r,a=this;function l(){var e,t;a.el&&("scroll"===a.mode?(e=a.containerPos,t=a.el.getBoundingClientRect(),"b2t"===a.direction?t&&t.bottom<=e.top+100?(a.status="end",a.remove()):(a.pauseMove(e),"paused"!==a.danmu.bulletBtn.main.status&&a.startMove(e)):t&&t.right<=e.left+100?(a.status="end",a.remove()):(a.pauseMove(e),"paused"!==a.danmu.bulletBtn.main.status&&a.startMove(e))):(a.status="end",a.remove()))}a.hasMove||(a.danmu.emit("bullet_start",a),a.hasMove=!0),("forcedPause"!==a.status||e)&&this.el&&"start"!==this.status&&(this.status="start",d.default.style(this.el,"willChange","transform"),"scroll"===this.mode?"b2t"===this.direction?(this.moveV=(n.height+this.height)/this.duration*1e3,t=(a.el.getBoundingClientRect().bottom-n.top)/this.moveV,d.default.style(this.el,"transition","transform "+t+"s linear 0s"),this.startMoveTimer=setTimeout(function(){a.el&&(d.default.style(a.el,"transform","translateX(-"+a.top+"px) translateY(-"+a.height+"px) translateZ(0px) rotate(90deg)"),a.moveTime=(new Date).getTime(),a.moveMoreS=a.el.getBoundingClientRect().top-n.top,a.moveContainerHeight=n.height,a.removeTimer=setTimeout(l,1e3*t))},20)):(i=this.el.getBoundingClientRect(),this.moveV=(n.width+this.width)/this.duration*1e3,o=(i.right-n.left)/this.moveV,d.default.style(this.el,"transition","transform "+o+"s linear 0s"),this.startMoveTimer=setTimeout(function(){var e,t;a.el&&(t=((e=a.el.getBoundingClientRect()).right-n.left)/o,e.right>n.left&&t>a.moveV-1&&t<a.moveV+1?(d.default.style(a.el,"transform","translateX(-"+(e.right-n.left)+"px) translateY(0px) translateZ(0px)"),a.moveTime=(new Date).getTime(),a.moveMoreS=e.left-n.left,a.moveContainerWidth=n.width,a.removeTimer=setTimeout(l,1e3*o)):(a.status="end",a.remove()))},0)):(d.default.style(this.el,"left","50%"),d.default.style(this.el,"margin","0 0 0 -"+this.width/2+"px"),this.pastDuration||(this.pastDuration=1),r=this.duration>=this.pastDuration?this.duration-this.pastDuration:0,this.removeTimer=setTimeout(l,r),this.startTime=(new Date).getTime()))}},{key:"remove",value:function value(){this.logger&&this.logger.info("remove #"+(this.options.txt||"[DOM Element]")+"#"),this.removeTimer&&clearTimeout(this.removeTimer),this.startMoveTimer&&clearTimeout(this.startMoveTimer),this.el&&this.el.parentNode&&(d.default.style(this.el,"willChange","auto"),this.detach(),this.options.el&&1===this.options.el.nodeType&&this.danmu.config.disableCopyDOM&&d.default.style(this.options.el,"transform","none"),this.danmu.emit("bullet_remove",{bullet:this}))}},{key:"setFontSize",value:function value(e){this.el&&(this.el.style.fontSize=e)}},{key:"setLikeDom",value:function value(t,n){var e;return t&&(Object.keys(n).forEach(function(e){t.style[e]=n[e]}),t.className="danmu-like",this.el&&((e=this.el.querySelector(".danmu-like"))&&this.el.removeChild(e),this.el.innerHTML=""+this.el.innerHTML+t.outerHTML)),t}}]),t}();n.default=u,e.exports=n.default},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=i(0),a=r&&r.__esModule?r:{default:r},s=function(){function e(t){!function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),t={initDOM:function initDOM(){return document.createElement("div")},initSize:10},this.init(t)}return o(e,[{key:"init",value:function value(e){this.idleList=[],this.usingList=[],this._id=0,this.options=e,this._expand(e.initSize)}},{key:"use",value:function value(){this.idleList.length||this._expand(1);var e=this.idleList.shift();return this.usingList.push(e),e}},{key:"unuse",value:function value(e){var t=this.usingList.indexOf(e);t<0||(this.usingList.splice(t,1),e.innerHTML="",e.textcontent="",this.clearElementStyle(e),this.idleList.push(e))}},{key:"_expand",value:function value(e){for(var t=0;t<e;t++)this.idleList.push(this.options.initDOM(this._id++))}},{key:"destroy",value:function value(){for(var e=0;e<this.idleList.length;e++)this.idleList[e].innerHTML="",this.idleList[e].textcontent="",this.clearElementStyle(this.idleList[e]);for(var t=0;t<this.usingList.length;t++)this.usingList[t].innerHTML="",this.usingList[t].textcontent="",this.clearElementStyle(this.usingList[t]);for(var n in this)delete this[n]}},{key:"clearElementStyle",value:function value(e){var t="undefined"!=typeof window?window.navigator.userAgent:null;t&&(-1<t.indexOf("MSIE ")||-1<t.indexOf("Trident/")?a.default.style(e,"transform","none"):e.setAttribute("style",""))}}]),e}();n.default=s,t.exports=n.default},function(e){e.exports=JSON.parse('{"version":"0.6.3"}')},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=new(function(){function e(){var n=this;if(function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.__handlers=[],window.ResizeObserver)try{this.observer=new window.ResizeObserver(function(e){var t=(new Date).getTime();t-n.timeStampe<200||(n.timeStampe=t,n.__trigger(e))}),this.timeStampe=(new Date).getTime()}catch(e){}}return o(e,[{key:"addObserver",value:function value(e,t){if(this.observer){this.observer&&this.observer.observe(e);for(var n=this.__handlers,i=-1,o=0;o<n.length;o++)n[o]&&e===n[o].target&&(i=o);-1<i?this.__handlers[i].handler.push(t):this.__handlers.push({target:e,handler:[t]})}}},{key:"unObserver",value:function value(n){var i=-1;this.__handlers.map(function(e,t){n===e.target&&(i=t)}),this.observer&&this.observer.unobserve(n),-1<i&&this.__handlers.splice(i,1)}},{key:"destroyObserver",value:function value(){this.observer&&this.observer.disconnect(),this.observer=null,this.__handlers=null}},{key:"__runHandler",value:function value(e){for(var t=this.__handlers,n=0;n<t.length;n++)if(t[n]&&e===t[n].target){t[n].handler&&t[n].handler.map(function(e){try{e()}catch(e){console.error(e)}});break}}},{key:"__trigger",value:function value(e){var t=this;e.map(function(e){t.__runHandler(e.target)})}}]),e}());n.addObserver=function(e,t){r.addObserver(e,t)},n.unObserver=function(e,t){r.unObserver(e,t)},n.destroyObserver=function(e,t){r.destroyObserver(e,t)}},function(e,t,n){var i=n(35);"string"==typeof i&&(i=[[e.i,i,""]]);n(37)(i,{hmr:!0,transform:void 0,insertInto:void 0}),i.locals&&(e.exports=i.locals)},function(e,t,n){(e.exports=n(36)(!1)).push([e.i,".danmu{overflow:hidden;-webkit-user-select:none;-moz-user-select:none;user-select:none;-ms-user-select:none}.danmu>*{position:absolute;white-space:nowrap}.danmu-switch{width:32px;height:20px;border-radius:100px;background-color:#ccc;-webkit-box-sizing:border-box;box-sizing:border-box;outline:none;cursor:pointer;position:relative;text-align:center;margin:10px auto}.danmu-switch.danmu-switch-active{padding-left:12px;background-color:#f85959}.danmu-switch span.txt{width:20px;height:20px;line-height:20px;text-align:center;display:block;border-radius:100px;background-color:#ffffff;-webkit-box-shadow:-2px 0 0 0 rgba(0, 0, 0, .04);box-shadow:-2px 0 0 0 rgba(0, 0, 0, .04);font-family:PingFangSC;font-size:10px;font-weight:500;color:#f44336}\n",""])},function(e,t){e.exports=function(r){var a=[];return a.toString=function(){return this.map(function(o){var e=function(){var e=o[1]||"",t=o[3];if(!t)return e;if(r&&"function"==typeof btoa){var n="/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */",i=t.sources.map(function(e){return"/*# sourceURL="+t.sourceRoot+e+" */"});return[e].concat(i).concat([n]).join("\n")}return[e].join("\n")}();return o[2]?"@media "+o[2]+"{"+e+"}":e}).join("")},a.i=function(e,t){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(n[o]=!0)}for(i=0;i<e.length;i++){var r=e[i];"number"==typeof r[0]&&n[r[0]]||(t&&!r[2]?r[2]=t:t&&(r[2]="("+r[2]+") and ("+t+")"),a.push(r))}},a}},function(e,t,n){var i,r,l={},u=(i=function i(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=i.apply(this,arguments)),r}),a=function(){var n={};return function(e){if("function"==typeof e)return e();if(void 0===n[e]){var t=function s(e){return document.querySelector(e)}.call(this,e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]}}(),c=null,f=0,s=[],h=n(38);function d(e,t){for(var n=0;n<e.length;n++){var i=e[n],o=l[i.id];if(o){o.refs++;for(var r=0;r<o.parts.length;r++)o.parts[r](i.parts[r]);for(;r<i.parts.length;r++)o.parts.push(y(i.parts[r],t))}else{for(var a=[],r=0;r<i.parts.length;r++)a.push(y(i.parts[r],t));l[i.id]={id:i.id,refs:1,parts:a}}}}function g(e,t){for(var n=[],i={},o=0;o<e.length;o++){var r=e[o],a=t.base?r[0]+t.base:r[0],s={css:r[1],media:r[2],sourceMap:r[3]};i[a]?i[a].parts.push(s):n.push(i[a]={id:a,parts:[s]})}return n}function p(e,t){var n=a(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=s[s.length-1];if("top"===e.insertAt)i?i.nextSibling?n.insertBefore(t,i.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),s.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=C(e.insertAt)||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=a(e.insertInto+" "+e.insertAt.before);n.insertBefore(t,o)}}function m(e){var t;null!==e.parentNode&&(e.parentNode.removeChild(e),0<=(t=s.indexOf(e))&&s.splice(t,1))}function v(e){var t=document.createElement("style");return void 0===e.attrs.type&&(e.attrs.type="text/css"),b(t,e.attrs),p(e,t),t}function b(t,n){Object.keys(n).forEach(function(e){t.setAttribute(e,n[e])})}function y(t,e){var n,i,r,a,s;if(e.transform&&t.css){if(!(n=e.transform(t.css)))return function(){};t.css=n}return s=e.singleton?(i=f++,r=c=c||v(e),a=O.bind(null,r,i,!1),O.bind(null,r,i,!0)):t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(r=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",b(t,e.attrs),p(e,t),t}(e),a=function x(e,t,n){var i=n.css,o=n.sourceMap,r=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||r)&&(i=h(i)),o&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var a=new Blob([i],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,r,e),function o(){m(r),r.href&&URL.revokeObjectURL(r.href)}):(r=v(e),a=function k(e,t){var n=t.css,i=t.media;if(i&&e.setAttribute("media",i),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,r),function o(){m(r)}),a(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;a(t=e)}else s()}}e.exports=function(e,a){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=("undefined"==typeof document?"undefined":C(document)))throw new Error("The style-loader cannot be used in a non-browser environment");(a=a||{}).attrs="object"==C(a.attrs)?a.attrs:{},a.singleton||"boolean"==typeof a.singleton||(a.singleton=u()),a.insertInto||(a.insertInto="head"),a.insertAt||(a.insertAt="bottom");var s=g(e,a);return d(s,a),function(e){for(var t,n=[],i=0;i<s.length;i++){var o=s[i];(t=l[o.id]).refs--,n.push(t)}for(e&&d(g(e,a),a),i=0;i<n.length;i++){if(0===(t=n[i]).refs){for(var r=0;r<t.parts.length;r++)t.parts[r]();delete l[t.id]}}}};var w,k=(w=[],function(e,t){return w[e]=t,w.filter(Boolean).join("\n")});function O(e,t,n,i){var o,r,a=n?"":i.css;e.styleSheet?e.styleSheet.cssText=k(t,a):(o=document.createTextNode(a),(r=e.childNodes)[t]&&e.removeChild(r[t]),r.length?e.insertBefore(o,r[t]):e.appendChild(o))}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var o=t.protocol+"//"+t.host,r=o+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var n,i=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?e:(n=0===i.indexOf("//")?i:0===i.indexOf("/")?o+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(n)+")")})}}])}))}).call(this,t(72)(e))},function(e,t,n){"use strict";e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function get(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function get(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){var i=n(74);"string"==typeof i&&(i=[[e.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,o);i.locals&&(e.exports=i.locals)},function(e,t,n){(e.exports=n(1)(!1)).push([e.i,".danmu-switch{-webkit-order:6;-moz-box-ordinal-group:7;order:6;z-index:26;margin:10px auto}.xgplayer-bullet{display:none;position:absolute;top:0;left:0;right:0;height:100%;overflow:hidden;z-index:9;outline:none}.xgplayer-bullet>*{position:absolute;white-space:nowrap;z-index:9}.xgplayer-has-bullet{display:block}",""])},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n(117)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=_interopRequireDefault(n(0)),o=_interopRequireDefault(n(70)),r=_interopRequireDefault(n(69)),a=_interopRequireDefault(n(66)),s=_interopRequireDefault(n(65)),l=_interopRequireDefault(n(61)),u=_interopRequireDefault(n(60)),c=_interopRequireDefault(n(57)),f=_interopRequireDefault(n(56)),d=_interopRequireDefault(n(53)),p=_interopRequireDefault(n(50)),h=_interopRequireDefault(n(47)),g=_interopRequireDefault(n(44)),y=_interopRequireDefault(n(64));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}n(11),[o.default,r.default,a.default,s.default,l.default,u.default,c.default,f.default,d.default,p.default,h.default,g.default,y.default].forEach(function(e){i.default.install(e.name,e.method)}),t.default=i.default,e.exports=t.default}])});
//# sourceMappingURL=simple_player.js.map